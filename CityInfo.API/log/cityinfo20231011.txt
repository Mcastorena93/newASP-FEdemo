2023-10-11 12:37:00.967 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 12:37:01.053 -04:00 [DBG] Hosting starting
2023-10-11 12:37:01.102 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 12:37:01.111 -04:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-10-11 12:37:01.112 -04:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-10-11 12:37:01.115 -04:00 [INF] Creating key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with creation date 2023-10-11 16:37:01Z, activation date 2023-10-11 16:37:01Z, and expiration date 2024-01-09 16:37:01Z.
2023-10-11 12:37:01.125 -04:00 [DBG] Descriptor deserializer type for key {178bdc61-1a9a-4af4-9494-5798b7cce31f} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-10-11 12:37:01.132 -04:00 [DBG] No key escrow sink found. Not writing key {178bdc61-1a9a-4af4-9494-5798b7cce31f} to escrow.
2023-10-11 12:37:01.138 -04:00 [DBG] Encrypting to Windows DPAPI for current user account (DESKTOP-DG8VFN8\MCCM).
2023-10-11 12:37:01.146 -04:00 [INF] Writing data to file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 12:37:01.147 -04:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-10-11 12:37:01.148 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 12:37:01.154 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 12:37:01.158 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 12:37:01.161 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 12:37:01.162 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 12:37:01.163 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 12:37:01.167 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 12:37:01.170 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 12:37:01.173 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 12:37:01.174 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 12:37:01.321 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 12:37:01.363 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 12:37:01.368 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 12:37:01.369 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 12:37:01.369 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 12:37:01.370 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 12:37:01.371 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 12:37:01.371 -04:00 [INF] Hosting environment: Development
2023-10-11 12:37:01.371 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 12:37:01.372 -04:00 [DBG] Hosting started
2023-10-11 12:37:01.768 -04:00 [DBG] Connection id "0HMUAF15QSFPK" accepted.
2023-10-11 12:37:01.769 -04:00 [DBG] Connection id "0HMUAF15QSFPK" started.
2023-10-11 12:37:01.773 -04:00 [DBG] Connection id "0HMUAF15QSFPL" accepted.
2023-10-11 12:37:01.773 -04:00 [DBG] Connection id "0HMUAF15QSFPL" started.
2023-10-11 12:37:02.087 -04:00 [DBG] Connection id "0HMUAF15QSFPM" accepted.
2023-10-11 12:37:02.091 -04:00 [DBG] Connection id "0HMUAF15QSFPM" started.
2023-10-11 12:37:02.167 -04:00 [DBG] Connection 0HMUAF15QSFPM established using the following protocol: "Tls12"
2023-10-11 12:37:02.215 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 12:37:02.239 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 12:37:02.429 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 12:37:02.604 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 12:37:02.609 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 396.1644ms
2023-10-11 12:37:02.648 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 12:37:02.648 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 12:37:02.664 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.0874ms
2023-10-11 12:37:02.696 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.1750ms
2023-10-11 12:37:02.923 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 12:37:03.055 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.2067ms
2023-10-11 12:37:11.783 -04:00 [DBG] Authentication of the HTTPS connection timed out.
2023-10-11 12:37:11.783 -04:00 [DBG] Authentication of the HTTPS connection timed out.
2023-10-11 12:37:11.786 -04:00 [DBG] Connection id "0HMUAF15QSFPL" stopped.
2023-10-11 12:37:11.786 -04:00 [DBG] Connection id "0HMUAF15QSFPK" stopped.
2023-10-11 12:37:11.787 -04:00 [DBG] Connection id "0HMUAF15QSFPL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:37:11.787 -04:00 [DBG] Connection id "0HMUAF15QSFPK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:37:43.426 -04:00 [DBG] Connection id "0HMUAF15QSFPN" received FIN.
2023-10-11 12:37:43.427 -04:00 [DBG] Connection id "0HMUAF15QSFPN" accepted.
2023-10-11 12:37:43.428 -04:00 [DBG] Connection id "0HMUAF15QSFPN" started.
2023-10-11 12:37:43.431 -04:00 [DBG] Connection id "0HMUAF15QSFPO" accepted.
2023-10-11 12:37:43.432 -04:00 [DBG] Connection id "0HMUAF15QSFPO" started.
2023-10-11 12:37:43.432 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 12:37:43.446 -04:00 [DBG] Connection 0HMUAF15QSFPO established using the following protocol: "Tls12"
2023-10-11 12:37:43.470 -04:00 [DBG] Connection id "0HMUAF15QSFPN" stopped.
2023-10-11 12:37:43.471 -04:00 [DBG] Connection id "0HMUAF15QSFPN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:37:43.477 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities - -
2023-10-11 12:37:43.479 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:37:43.496 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-11 12:37:43.500 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-11 12:37:43.501 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:37:43.578 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 12:37:43.583 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-11 12:37:43.588 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-10-11 12:37:43.589 -04:00 [DBG] Connection id "0HMUAF15QSFPO" completed keep alive response.
2023-10-11 12:37:43.590 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities - - - 401 0 - 112.8285ms
2023-10-11 12:38:16.923 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114
2023-10-11 12:38:16.924 -04:00 [DBG] POST requests are not supported
2023-10-11 12:38:16.925 -04:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-10-11 12:38:16.926 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-10-11 12:38:16.927 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 12:38:16.928 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 12:38:16.929 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 12:38:16.948 -04:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-10-11 12:38:16.950 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:38:16.951 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:38:16.951 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:38:16.953 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:38:16.954 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:38:16.955 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 12:38:16.956 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 12:38:16.959 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 12:38:16.961 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-10-11 12:38:16.962 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-11 12:38:16.963 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-11 12:38:16.968 -04:00 [DBG] Connection id "0HMUAF15QSFPO", Request id "0HMUAF15QSFPO:00000003": started reading request body.
2023-10-11 12:38:16.969 -04:00 [DBG] Connection id "0HMUAF15QSFPO", Request id "0HMUAF15QSFPO:00000003": done reading request body.
2023-10-11 12:38:17.290 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 12:38:17.291 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 12:38:17.292 -04:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 12:38:17.297 -04:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 12:38:17.696 -04:00 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:38:17.730 -04:00 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.8594ms.
2023-10-11 12:38:17.732 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 12:38:17.736 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 12:38:17.737 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 12:38:17.737 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 12:38:17.738 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-10-11 12:38:17.739 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-11 12:38:17.743 -04:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 785.6193ms
2023-10-11 12:38:17.744 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 12:38:17.745 -04:00 [DBG] Connection id "0HMUAF15QSFPO" completed keep alive response.
2023-10-11 12:38:17.746 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 822.5878ms
2023-10-11 12:38:50.589 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities - -
2023-10-11 12:38:50.597 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:38:50.597 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-11 12:38:50.598 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-11 12:38:50.599 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:38:50.642 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:38:50.643 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:38:50.644 -04:00 [DBG] Authorization was successful.
2023-10-11 12:38:50.645 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:38:50.652 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-11 12:38:50.653 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:38:50.654 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:38:50.655 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:38:50.656 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:38:50.657 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:38:50.658 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 12:38:50.750 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 12:38:50.867 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 12:38:50.868 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-11 12:38:50.869 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-11 12:38:50.870 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-11 12:38:50.871 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 12:38:50.871 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 12:38:50.872 -04:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-11 12:38:50.873 -04:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-11 12:38:50.873 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-11 12:38:50.874 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-11 12:38:50.875 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:38:50.875 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:38:50.876 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:38:50.877 -04:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-11 12:38:50.877 -04:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:38:50.878 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 12:38:50.879 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-10-11 12:38:50.879 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:38:50.880 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:38:50.881 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:38:50.881 -04:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 12:38:50.882 -04:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:38:50.883 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 12:38:50.883 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-10-11 12:38:50.884 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:38:50.885 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:38:50.885 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:38:50.886 -04:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 12:38:50.887 -04:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:38:50.898 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:38:51.444 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:38:51.474 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-10-11 12:38:51.637 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 12:38:51.673 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:38:51.731 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (54ms).
2023-10-11 12:38:51.738 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:38:51.758 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:38:51.767 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 12:38:51.784 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 12:38:51.793 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:38:51.798 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:38:51.802 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:38:51.811 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-11 12:38:51.854 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-11 12:38:51.863 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:38:51.863 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:38:51.866 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:38:51.867 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:38:51.871 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 12:38:51.876 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 12:38:51.888 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:38:51.903 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:38:51.904 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:38:51.905 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:38:51.905 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:38:51.906 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:38:51.922 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1023.4632ms.
2023-10-11 12:38:51.923 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 12:38:51.924 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 12:38:51.924 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 12:38:51.925 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 12:38:51.925 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-11 12:38:51.926 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-11 12:38:51.960 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1302.7096ms
2023-10-11 12:38:51.961 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:38:51.961 -04:00 [DBG] Connection id "0HMUAF15QSFPO" completed keep alive response.
2023-10-11 12:38:51.965 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:38:51.967 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities - - - 200 239 application/json;+charset=utf-8 1377.7783ms
2023-10-11 12:47:40.993 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 12:47:41.110 -04:00 [DBG] Hosting starting
2023-10-11 12:47:41.134 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 12:47:41.137 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 12:47:41.146 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 12:47:41.153 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 12:47:41.156 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 12:47:41.158 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 12:47:41.159 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 12:47:41.164 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 12:47:41.166 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 12:47:41.169 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 12:47:41.169 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 12:47:41.266 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 12:47:41.292 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 12:47:41.293 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 12:47:41.293 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 12:47:41.294 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 12:47:41.294 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 12:47:41.295 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 12:47:41.295 -04:00 [INF] Hosting environment: Development
2023-10-11 12:47:41.296 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 12:47:41.296 -04:00 [DBG] Hosting started
2023-10-11 12:47:41.539 -04:00 [DBG] Connection id "0HMUAF74G7UKR" received FIN.
2023-10-11 12:47:41.539 -04:00 [DBG] Connection id "0HMUAF74G7UKQ" received FIN.
2023-10-11 12:47:41.545 -04:00 [DBG] Connection id "0HMUAF74G7UKR" accepted.
2023-10-11 12:47:41.545 -04:00 [DBG] Connection id "0HMUAF74G7UKQ" accepted.
2023-10-11 12:47:41.547 -04:00 [DBG] Connection id "0HMUAF74G7UKR" started.
2023-10-11 12:47:41.547 -04:00 [DBG] Connection id "0HMUAF74G7UKQ" started.
2023-10-11 12:47:41.557 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 12:47:41.557 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 12:47:41.578 -04:00 [DBG] Connection id "0HMUAF74G7UKQ" stopped.
2023-10-11 12:47:41.578 -04:00 [DBG] Connection id "0HMUAF74G7UKR" stopped.
2023-10-11 12:47:41.581 -04:00 [DBG] Connection id "0HMUAF74G7UKR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:47:41.581 -04:00 [DBG] Connection id "0HMUAF74G7UKQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:47:41.713 -04:00 [DBG] Connection id "0HMUAF74G7UKS" accepted.
2023-10-11 12:47:41.714 -04:00 [DBG] Connection id "0HMUAF74G7UKS" started.
2023-10-11 12:47:41.749 -04:00 [DBG] Connection 0HMUAF74G7UKS established using the following protocol: "Tls12"
2023-10-11 12:47:41.778 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 12:47:41.797 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 12:47:41.942 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 12:47:42.034 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 12:47:42.037 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 261.6719ms
2023-10-11 12:47:42.058 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 12:47:42.062 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.7296ms
2023-10-11 12:47:42.071 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 12:47:42.100 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.7981ms
2023-10-11 12:47:42.303 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 12:47:42.419 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.3404ms
2023-10-11 12:47:50.847 -04:00 [DBG] Connection id "0HMUAF74G7UKT" accepted.
2023-10-11 12:47:50.848 -04:00 [DBG] Connection id "0HMUAF74G7UKT" received FIN.
2023-10-11 12:47:50.848 -04:00 [DBG] Connection id "0HMUAF74G7UKT" started.
2023-10-11 12:47:50.848 -04:00 [DBG] Connection id "0HMUAF74G7UKU" accepted.
2023-10-11 12:47:50.849 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 12:47:50.849 -04:00 [DBG] Connection id "0HMUAF74G7UKU" started.
2023-10-11 12:47:50.851 -04:00 [DBG] Connection id "0HMUAF74G7UKT" stopped.
2023-10-11 12:47:50.852 -04:00 [DBG] Connection id "0HMUAF74G7UKT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 12:47:50.854 -04:00 [DBG] Connection 0HMUAF74G7UKU established using the following protocol: "Tls12"
2023-10-11 12:47:50.861 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities - -
2023-10-11 12:47:50.863 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:47:50.880 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-11 12:47:50.884 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-11 12:47:50.885 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:47:51.019 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:47:51.021 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:47:51.025 -04:00 [DBG] Authorization was successful.
2023-10-11 12:47:51.026 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:47:51.049 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-11 12:47:51.051 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:47:51.052 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:47:51.053 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:47:51.054 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:47:51.054 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:47:51.056 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 12:47:51.150 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 12:47:51.270 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 12:47:51.273 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-11 12:47:51.274 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-11 12:47:51.275 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-11 12:47:51.276 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 12:47:51.276 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 12:47:51.277 -04:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-11 12:47:51.279 -04:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-11 12:47:51.280 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-11 12:47:51.281 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-11 12:47:51.282 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:47:51.282 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:47:51.283 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:47:51.284 -04:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-11 12:47:51.284 -04:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-11 12:47:51.285 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 12:47:51.286 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-10-11 12:47:51.286 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:47:51.287 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:47:51.288 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:47:51.288 -04:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 12:47:51.289 -04:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 12:47:51.290 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 12:47:51.291 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-10-11 12:47:51.291 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:47:51.292 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:47:51.293 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:47:51.293 -04:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 12:47:51.294 -04:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-11 12:47:51.354 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:47:51.930 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:47:51.960 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-10-11 12:47:52.127 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 12:47:52.165 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:47:52.209 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2023-10-11 12:47:52.218 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:47:52.231 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:47:52.240 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 12:47:52.257 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 12:47:52.266 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:47:52.272 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:47:52.277 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:47:52.285 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-11 12:47:52.334 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-11 12:47:52.344 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:47:52.345 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:47:52.348 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:47:52.349 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:47:52.354 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 12:47:52.359 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 12:47:52.372 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:47:52.390 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:47:52.391 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 12:47:52.392 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:47:52.393 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:47:52.394 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:47:52.414 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1056.2155ms.
2023-10-11 12:47:52.417 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 12:47:52.421 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 12:47:52.421 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 12:47:52.422 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 12:47:52.423 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-11 12:47:52.424 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-11 12:47:52.523 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1464.5193ms
2023-10-11 12:47:52.524 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 12:47:52.525 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:47:52.528 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:47:52.531 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities - - - 200 239 application/json;+charset=utf-8 1669.5544ms
2023-10-11 12:48:10.398 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-11 12:48:10.398 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:48:10.400 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-11 12:48:10.400 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-11 12:48:10.401 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:10.402 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:48:10.403 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:48:10.404 -04:00 [DBG] Authorization was successful.
2023-10-11 12:48:10.404 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:10.407 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:48:10.408 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:48:10.409 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:48:10.410 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:48:10.412 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:48:10.413 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:48:10.414 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:10.420 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:10.421 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:10.422 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:48:10.423 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:10.423 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:10.424 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:10.425 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:10.439 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:48:10.443 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:48:10.451 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-10-11 12:48:10.472 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 12:48:10.485 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:48:10.486 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:48:10.486 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:10.487 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:10.488 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:10.491 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:10.493 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:48:10.493 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:10.494 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:10.495 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 55.4044ms.
2023-10-11 12:48:10.496 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:48:10.499 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:48:10.499 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 85.5092ms
2023-10-11 12:48:10.500 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:10.501 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:48:10.501 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:48:10.502 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - - - 403 0 - 104.0194ms
2023-10-11 12:48:25.827 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:48:25.828 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:48:25.829 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:48:25.829 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:48:25.831 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:25.832 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:48:25.833 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:48:25.834 -04:00 [DBG] Authorization was successful.
2023-10-11 12:48:25.834 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:25.836 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:48:25.837 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:48:25.838 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:48:25.839 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:48:25.840 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:48:25.841 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:48:25.842 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:25.844 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:25.845 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:25.846 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:48:25.847 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:25.847 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:25.848 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:25.849 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:25.861 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:48:25.891 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:48:25.895 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:48:25.896 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:48:25.897 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:25.897 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:25.898 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:25.900 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:25.902 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:48:25.902 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:25.903 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:25.904 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 41.7664ms.
2023-10-11 12:48:25.905 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:48:25.905 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:48:25.906 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 64.23ms
2023-10-11 12:48:25.907 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:25.908 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:48:25.908 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:48:25.909 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 81.8497ms
2023-10-11 12:48:34.177 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:48:34.177 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:48:34.178 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:48:34.179 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:48:34.181 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:34.182 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:48:34.182 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:48:34.184 -04:00 [DBG] Authorization was successful.
2023-10-11 12:48:34.185 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:34.186 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:48:34.188 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:48:34.189 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:48:34.190 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:48:34.192 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:48:34.192 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:48:34.193 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:34.194 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:48:34.195 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:34.196 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:48:34.197 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:34.198 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:34.199 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:48:34.200 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:48:34.213 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:48:34.214 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:48:34.216 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:48:34.216 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:48:34.217 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:34.218 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:34.219 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:34.221 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:48:34.223 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:48:34.223 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:48:34.224 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:48:34.225 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 11.5092ms.
2023-10-11 12:48:34.227 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:48:34.229 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:48:34.229 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 36.0009ms
2023-10-11 12:48:34.230 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:48:34.231 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:48:34.232 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:48:34.233 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 55.9709ms
2023-10-11 12:54:34.252 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:54:34.254 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:54:34.255 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:54:34.255 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:54:34.257 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:54:34.258 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:54:34.259 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:54:34.260 -04:00 [DBG] Authorization was successful.
2023-10-11 12:54:34.261 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:54:34.261 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:54:34.263 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:54:34.264 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:54:34.265 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:54:34.266 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:54:34.267 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:54:34.268 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:54:34.269 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:54:34.269 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:54:34.270 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:54:34.271 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:54:34.272 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:54:34.272 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:54:34.273 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:54:34.284 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:54:34.286 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:54:34.287 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:54:34.288 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:54:34.288 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:54:34.289 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:54:34.290 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:54:34.293 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:54:34.294 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:54:34.294 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:54:34.295 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:54:34.296 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 10.4086ms.
2023-10-11 12:54:34.297 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:54:34.297 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:54:34.298 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 30.1355ms
2023-10-11 12:54:34.299 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:54:34.299 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:54:34.300 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:54:34.300 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 51.9868ms
2023-10-11 12:55:08.983 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:55:08.985 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:55:08.986 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:55:08.986 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:55:08.988 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:55:08.988 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:55:08.989 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:55:08.989 -04:00 [DBG] Authorization was successful.
2023-10-11 12:55:08.990 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:55:08.991 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:55:08.992 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:55:08.993 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:55:08.994 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:55:08.995 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:55:08.995 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:55:08.996 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:55:08.997 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:55:08.998 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:55:08.999 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:55:09.000 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:55:09.001 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:55:09.001 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:55:09.002 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:55:09.012 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:55:09.013 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:55:09.014 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:55:09.015 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:55:09.016 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:55:09.017 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:55:09.017 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:55:09.019 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:55:09.020 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:55:09.021 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:55:09.021 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:55:09.022 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 9.1159ms.
2023-10-11 12:55:09.023 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:55:09.024 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:55:09.025 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 28.6441ms
2023-10-11 12:55:09.026 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:55:09.026 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:55:09.027 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:55:09.028 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 48.3971ms
2023-10-11 12:55:40.270 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:55:40.272 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:55:40.273 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:55:40.273 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:55:40.274 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:55:40.275 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 12:55:40.277 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-11 12:55:40.284 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-10-11 12:55:40.284 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:55:40.285 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 401 0 - 14.7131ms
2023-10-11 12:56:06.098 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 12:56:06.103 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:56:06.104 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:56:06.105 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 12:56:06.106 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:06.107 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:56:06.108 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:56:06.109 -04:00 [DBG] Authorization was successful.
2023-10-11 12:56:06.109 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:06.110 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:56:06.111 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:56:06.112 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:56:06.113 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:56:06.115 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:56:06.115 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:56:06.117 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:06.118 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:06.119 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:06.119 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:56:06.120 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:06.121 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:06.122 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:06.122 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:06.133 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:56:06.134 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:56:06.135 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:56:06.136 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:56:06.136 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:06.137 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:06.138 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:06.139 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:06.141 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:56:06.141 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:06.142 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:06.142 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 8.5955ms.
2023-10-11 12:56:06.143 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:56:06.144 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:56:06.145 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 28.11ms
2023-10-11 12:56:06.146 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:06.146 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:56:06.147 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:56:06.148 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 49.1248ms
2023-10-11 12:56:11.349 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/3/pointsofinterest - -
2023-10-11 12:56:11.349 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:56:11.350 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-10-11 12:56:11.351 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-10-11 12:56:11.352 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:11.353 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:56:11.354 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:56:11.354 -04:00 [DBG] Authorization was successful.
2023-10-11 12:56:11.355 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:11.355 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:56:11.357 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:56:11.358 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:56:11.358 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:56:11.360 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:56:11.360 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:56:11.361 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:11.363 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:11.364 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:11.364 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:56:11.365 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:11.366 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:11.367 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:11.367 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:11.378 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:56:11.379 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:56:11.381 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:56:11.381 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:56:11.383 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:11.384 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:11.385 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:11.386 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:11.388 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:56:11.388 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:11.389 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:11.390 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 11.0512ms.
2023-10-11 12:56:11.391 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:56:11.392 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:56:11.392 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 30.6845ms
2023-10-11 12:56:11.393 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:11.394 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:56:11.395 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:56:11.395 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/3/pointsofinterest - - - 403 0 - 46.2357ms
2023-10-11 12:56:17.303 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-11 12:56:17.304 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 12:56:17.305 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-11 12:56:17.305 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-11 12:56:17.306 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:17.307 -04:00 [DBG] Successfully validated the token.
2023-10-11 12:56:17.308 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 12:56:17.309 -04:00 [DBG] Authorization was successful.
2023-10-11 12:56:17.309 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:17.310 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 12:56:17.311 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 12:56:17.312 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 12:56:17.313 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 12:56:17.314 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 12:56:17.315 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 12:56:17.316 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:17.317 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 12:56:17.318 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:17.319 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 12:56:17.320 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:17.320 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:17.321 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 12:56:17.322 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 12:56:17.332 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 12:56:17.333 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 12:56:17.335 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 12:56:17.335 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 12:56:17.336 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:17.336 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:17.337 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:17.339 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 12:56:17.340 -04:00 [DBG] A data reader was disposed.
2023-10-11 12:56:17.341 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 12:56:17.342 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 12:56:17.342 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 9.1598ms.
2023-10-11 12:56:17.343 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 12:56:17.344 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 12:56:17.345 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 28.4101ms
2023-10-11 12:56:17.346 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 12:56:17.346 -04:00 [DBG] Connection id "0HMUAF74G7UKU" completed keep alive response.
2023-10-11 12:56:17.347 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 12:56:17.348 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - - - 403 0 - 44.6377ms
2023-10-11 13:10:21.336 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 13:10:22.426 -04:00 [DBG] Hosting starting
2023-10-11 13:10:22.445 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 13:10:22.449 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 13:10:22.459 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 13:10:22.468 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 13:10:22.470 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:10:22.473 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 13:10:22.474 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:10:22.478 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 13:10:22.481 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 13:10:22.485 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 13:10:22.485 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 13:10:22.563 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 13:10:22.584 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 13:10:22.585 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 13:10:22.585 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 13:10:22.586 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 13:10:22.587 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 13:10:22.588 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 13:10:22.588 -04:00 [INF] Hosting environment: Development
2023-10-11 13:10:22.589 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 13:10:22.589 -04:00 [DBG] Hosting started
2023-10-11 13:10:22.692 -04:00 [DBG] Connection id "0HMUAFJQ56SAT" received FIN.
2023-10-11 13:10:22.698 -04:00 [DBG] Connection id "0HMUAFJQ56SAT" accepted.
2023-10-11 13:10:22.699 -04:00 [DBG] Connection id "0HMUAFJQ56SAT" started.
2023-10-11 13:10:22.961 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:10:23.136 -04:00 [DBG] Connection id "0HMUAFJQ56SAT" stopped.
2023-10-11 13:10:23.139 -04:00 [DBG] Connection id "0HMUAFJQ56SAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:10:23.907 -04:00 [DBG] Connection id "0HMUAFJQ56SAU" accepted.
2023-10-11 13:10:23.909 -04:00 [DBG] Connection id "0HMUAFJQ56SAU" started.
2023-10-11 13:10:23.957 -04:00 [DBG] Connection 0HMUAFJQ56SAU established using the following protocol: "Tls12"
2023-10-11 13:10:23.991 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 13:10:24.013 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 13:10:24.163 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 13:10:24.249 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 13:10:24.253 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 265.2857ms
2023-10-11 13:10:24.273 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 13:10:24.277 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.9020ms
2023-10-11 13:10:24.277 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 13:10:24.357 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.2246ms
2023-10-11 13:10:24.455 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 13:10:24.580 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.7197ms
2023-10-11 13:10:27.407 -04:00 [DBG] Connection id "0HMUAFJQ56SAV" accepted.
2023-10-11 13:10:27.408 -04:00 [DBG] Connection id "0HMUAFJQ56SAV" received FIN.
2023-10-11 13:10:27.408 -04:00 [DBG] Connection id "0HMUAFJQ56SAV" started.
2023-10-11 13:10:27.408 -04:00 [DBG] Connection id "0HMUAFJQ56SB0" accepted.
2023-10-11 13:10:27.411 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:10:27.411 -04:00 [DBG] Connection id "0HMUAFJQ56SB0" started.
2023-10-11 13:10:27.421 -04:00 [DBG] Connection id "0HMUAFJQ56SAV" stopped.
2023-10-11 13:10:27.421 -04:00 [DBG] Connection id "0HMUAFJQ56SAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:10:27.424 -04:00 [DBG] Connection 0HMUAFJQ56SB0 established using the following protocol: "Tls12"
2023-10-11 13:10:27.432 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities - -
2023-10-11 13:10:27.434 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:10:27.451 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-11 13:10:27.455 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-11 13:10:27.457 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 13:10:27.556 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:10:27.557 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:10:27.562 -04:00 [DBG] Authorization was successful.
2023-10-11 13:10:27.563 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 13:10:27.588 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-11 13:10:27.590 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:10:27.591 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:10:27.592 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:10:27.593 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:10:27.593 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:10:27.595 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 13:10:27.682 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 13:10:27.805 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-11 13:10:27.808 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-11 13:10:27.810 -04:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-11 13:10:27.811 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-11 13:10:27.811 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 13:10:27.812 -04:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-11 13:10:27.813 -04:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-11 13:10:27.814 -04:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-11 13:10:27.815 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-11 13:10:27.816 -04:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-11 13:10:27.817 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-11 13:10:27.818 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 13:10:27.818 -04:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-11 13:10:27.819 -04:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-11 13:10:27.820 -04:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-11 13:10:27.820 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 13:10:27.821 -04:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-10-11 13:10:27.821 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 13:10:27.822 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 13:10:27.823 -04:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 13:10:27.823 -04:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-11 13:10:27.824 -04:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-11 13:10:27.825 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 13:10:27.825 -04:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-10-11 13:10:27.826 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-10-11 13:10:27.827 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 13:10:27.827 -04:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-11 13:10:27.828 -04:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-11 13:10:27.829 -04:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-11 13:10:27.888 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:10:28.459 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:10:28.487 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-10-11 13:10:28.660 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 13:10:28.699 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:10:28.746 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2023-10-11 13:10:28.756 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:10:28.769 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:10:28.778 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 13:10:28.796 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-10-11 13:10:28.806 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:10:28.812 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:10:28.816 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:10:28.824 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-11 13:10:28.869 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-11 13:10:28.877 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:10:28.878 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:10:28.881 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:10:28.881 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:10:28.885 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 13:10:28.890 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-10-11 13:10:28.903 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:10:28.918 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:10:28.919 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:10:28.920 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:10:28.920 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:10:28.921 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:10:28.941 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1048.8599ms.
2023-10-11 13:10:28.944 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:10:28.947 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:10:28.947 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:10:28.948 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:10:28.949 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-11 13:10:28.949 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-11 13:10:29.045 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1447.5578ms
2023-10-11 13:10:29.046 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-11 13:10:29.047 -04:00 [DBG] Connection id "0HMUAFJQ56SB0" completed keep alive response.
2023-10-11 13:10:29.050 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:10:29.053 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities - - - 200 239 application/json;+charset=utf-8 1620.6755ms
2023-10-11 13:12:59.930 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 13:13:00.009 -04:00 [DBG] Hosting starting
2023-10-11 13:13:00.035 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 13:13:00.038 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 13:13:00.046 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 13:13:00.056 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 13:13:00.058 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:13:00.061 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 13:13:00.062 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:13:00.067 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 13:13:00.070 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 13:13:00.073 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 13:13:00.074 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 13:13:00.176 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 13:13:00.225 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 13:13:00.226 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 13:13:00.228 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 13:13:00.230 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 13:13:00.231 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 13:13:00.231 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 13:13:00.232 -04:00 [INF] Hosting environment: Development
2023-10-11 13:13:00.232 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 13:13:00.233 -04:00 [DBG] Hosting started
2023-10-11 13:13:00.599 -04:00 [DBG] Connection id "0HMUAFL974955" received FIN.
2023-10-11 13:13:00.605 -04:00 [DBG] Connection id "0HMUAFL974955" accepted.
2023-10-11 13:13:00.606 -04:00 [DBG] Connection id "0HMUAFL974955" started.
2023-10-11 13:13:00.616 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:13:00.641 -04:00 [DBG] Connection id "0HMUAFL974955" stopped.
2023-10-11 13:13:00.644 -04:00 [DBG] Connection id "0HMUAFL974955" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:13:00.770 -04:00 [DBG] Connection id "0HMUAFL974956" accepted.
2023-10-11 13:13:00.771 -04:00 [DBG] Connection id "0HMUAFL974956" started.
2023-10-11 13:13:00.810 -04:00 [DBG] Connection 0HMUAFL974956 established using the following protocol: "Tls12"
2023-10-11 13:13:00.841 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 13:13:00.866 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 13:13:01.027 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 13:13:01.121 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 13:13:01.125 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 286.4943ms
2023-10-11 13:13:01.145 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 13:13:01.150 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.2702ms
2023-10-11 13:13:01.152 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 13:13:01.183 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.9737ms
2023-10-11 13:13:01.334 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 13:13:01.478 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.0037ms
2023-10-11 13:13:10.222 -04:00 [DBG] Connection id "0HMUAFL974957" accepted.
2023-10-11 13:13:10.223 -04:00 [DBG] Connection id "0HMUAFL974957" received FIN.
2023-10-11 13:13:10.223 -04:00 [DBG] Connection id "0HMUAFL974957" started.
2023-10-11 13:13:10.223 -04:00 [DBG] Connection id "0HMUAFL974958" accepted.
2023-10-11 13:13:10.225 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:13:10.225 -04:00 [DBG] Connection id "0HMUAFL974958" started.
2023-10-11 13:13:10.228 -04:00 [DBG] Connection id "0HMUAFL974957" stopped.
2023-10-11 13:13:10.229 -04:00 [DBG] Connection id "0HMUAFL974957" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:13:10.231 -04:00 [DBG] Connection 0HMUAFL974958 established using the following protocol: "Tls12"
2023-10-11 13:13:10.238 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-11 13:13:10.240 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:13:10.257 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-11 13:13:10.261 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-11 13:13:10.263 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:13:10.362 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:13:10.363 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:13:10.367 -04:00 [DBG] Authorization was successful.
2023-10-11 13:13:10.368 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:13:10.392 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:13:10.394 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:13:10.394 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:13:10.395 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:13:10.396 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:13:10.397 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:13:10.399 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:13:10.591 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 13:13:10.608 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:13:10.611 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:13:10.612 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:13:10.613 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:13:10.614 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:13:10.615 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:13:10.616 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:13:10.676 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:20:15.960 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 13:20:16.064 -04:00 [DBG] Hosting starting
2023-10-11 13:20:16.096 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 13:20:16.099 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 13:20:16.108 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 13:20:16.121 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 13:20:16.123 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:20:16.129 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 13:20:16.131 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:20:16.137 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 13:20:16.141 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 13:20:16.146 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 13:20:16.147 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 13:20:16.250 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 13:20:16.288 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 13:20:16.294 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 13:20:16.295 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 13:20:16.296 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 13:20:16.296 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 13:20:16.297 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 13:20:16.297 -04:00 [INF] Hosting environment: Development
2023-10-11 13:20:16.298 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 13:20:16.299 -04:00 [DBG] Hosting started
2023-10-11 13:20:16.619 -04:00 [DBG] Connection id "0HMUAFPB5ADLH" accepted.
2023-10-11 13:20:16.620 -04:00 [DBG] Connection id "0HMUAFPB5ADLH" started.
2023-10-11 13:20:16.626 -04:00 [DBG] Connection id "0HMUAFPB5ADLI" accepted.
2023-10-11 13:20:16.626 -04:00 [DBG] Connection id "0HMUAFPB5ADLI" started.
2023-10-11 13:20:16.658 -04:00 [DBG] Connection id "0HMUAFPB5ADLH" received FIN.
2023-10-11 13:20:16.658 -04:00 [DBG] Connection id "0HMUAFPB5ADLI" received FIN.
2023-10-11 13:20:16.663 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:20:16.673 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:20:16.694 -04:00 [DBG] Connection id "0HMUAFPB5ADLH" stopped.
2023-10-11 13:20:16.694 -04:00 [DBG] Connection id "0HMUAFPB5ADLI" stopped.
2023-10-11 13:20:16.696 -04:00 [DBG] Connection id "0HMUAFPB5ADLH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:20:16.696 -04:00 [DBG] Connection id "0HMUAFPB5ADLI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:20:16.832 -04:00 [DBG] Connection id "0HMUAFPB5ADLJ" accepted.
2023-10-11 13:20:16.833 -04:00 [DBG] Connection id "0HMUAFPB5ADLJ" started.
2023-10-11 13:20:16.868 -04:00 [DBG] Connection 0HMUAFPB5ADLJ established using the following protocol: "Tls12"
2023-10-11 13:20:16.899 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 13:20:16.921 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 13:20:17.095 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 13:20:17.188 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 13:20:17.192 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 296.3907ms
2023-10-11 13:20:17.211 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 13:20:17.215 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.5815ms
2023-10-11 13:20:17.219 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 13:20:17.236 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.0241ms
2023-10-11 13:20:17.381 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 13:20:17.506 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.7764ms
2023-10-11 13:20:18.630 -04:00 [DBG] Connection id "0HMUAFPB5ADLK" accepted.
2023-10-11 13:20:18.630 -04:00 [DBG] Connection id "0HMUAFPB5ADLK" received FIN.
2023-10-11 13:20:18.631 -04:00 [DBG] Connection id "0HMUAFPB5ADLK" started.
2023-10-11 13:20:18.631 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" accepted.
2023-10-11 13:20:18.632 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:20:18.633 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" started.
2023-10-11 13:20:18.635 -04:00 [DBG] Connection id "0HMUAFPB5ADLK" stopped.
2023-10-11 13:20:18.636 -04:00 [DBG] Connection id "0HMUAFPB5ADLK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:20:18.640 -04:00 [DBG] Connection 0HMUAFPB5ADLL established using the following protocol: "Tls12"
2023-10-11 13:20:18.647 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-11 13:20:18.649 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:20:18.668 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-11 13:20:18.673 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-11 13:20:18.674 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:18.784 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:20:18.786 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:20:18.790 -04:00 [DBG] Authorization was successful.
2023-10-11 13:20:18.791 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:18.815 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:20:18.817 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:20:18.817 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:20:18.818 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:20:18.819 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:20:18.820 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:20:18.821 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:20:19.018 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 13:20:19.036 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:20:19.039 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:20:19.041 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:20:19.042 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:19.042 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:19.043 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:20:19.045 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:19.113 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:20:19.695 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:20:19.730 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-10-11 13:20:19.916 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 13:20:19.956 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:20:19.996 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2023-10-11 13:20:20.006 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:20:20.019 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:20:20.030 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:20:20.051 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:20:20.060 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:20:20.066 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:20:20.070 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:20:20.074 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 957.2512ms.
2023-10-11 13:20:20.078 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 13:20:20.080 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 13:20:20.084 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 1260.0164ms
2023-10-11 13:20:20.085 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:20.086 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" completed keep alive response.
2023-10-11 13:20:20.089 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:20:20.091 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - - - 403 0 - 1444.0609ms
2023-10-11 13:20:27.886 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 13:20:27.886 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:20:27.888 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:20:27.889 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:20:27.890 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:27.891 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:20:27.892 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:20:27.892 -04:00 [DBG] Authorization was successful.
2023-10-11 13:20:27.893 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:27.894 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:20:27.895 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:20:27.896 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:20:27.897 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:20:27.898 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:20:27.899 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:20:27.900 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:20:27.906 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:20:27.907 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:20:27.908 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:20:27.908 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:27.909 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:27.910 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:20:27.910 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:20:27.925 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:20:27.927 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:20:27.931 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:20:27.931 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:20:27.932 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:20:27.932 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:20:27.933 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:20:27.935 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:20:27.936 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:20:27.937 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:20:27.938 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:20:27.938 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 12.4372ms.
2023-10-11 13:20:27.939 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 13:20:27.940 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 13:20:27.940 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 40.3701ms
2023-10-11 13:20:27.942 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:20:27.942 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" completed keep alive response.
2023-10-11 13:20:27.943 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:20:27.943 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 57.5863ms
2023-10-11 13:22:26.446 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 13:22:26.449 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:22:26.450 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:22:26.450 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:22:26.451 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:26.453 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:22:26.453 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:22:26.454 -04:00 [DBG] Authorization was successful.
2023-10-11 13:22:26.454 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:26.455 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:22:26.456 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:22:26.457 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:22:26.458 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:22:26.459 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:22:26.460 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:22:26.461 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:22:26.464 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:22:26.465 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:22:26.465 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:22:26.466 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:26.467 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:26.468 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:22:26.468 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:26.481 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:22:26.511 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:22:26.513 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:22:26.513 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:22:26.514 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:26.515 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:26.515 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:22:26.517 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:22:26.518 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:22:26.518 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:26.519 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:26.520 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 37.9445ms.
2023-10-11 13:22:26.520 -04:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-10-11 13:22:26.521 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 13:22:26.521 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 60.0382ms
2023-10-11 13:22:26.522 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:26.523 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" completed keep alive response.
2023-10-11 13:22:26.523 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:22:26.524 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 403 0 - 80.7321ms
2023-10-11 13:22:37.763 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114
2023-10-11 13:22:37.764 -04:00 [DBG] POST requests are not supported
2023-10-11 13:22:37.764 -04:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-10-11 13:22:37.765 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-10-11 13:22:37.766 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:22:37.766 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 13:22:37.767 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:22:37.769 -04:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-10-11 13:22:37.770 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:22:37.771 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:22:37.772 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:22:37.773 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:22:37.774 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:22:37.775 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:22:37.776 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:22:37.777 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:22:37.778 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-10-11 13:22:37.780 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-11 13:22:37.781 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-11 13:22:37.787 -04:00 [DBG] Connection id "0HMUAFPB5ADLL", Request id "0HMUAFPB5ADLL:00000005": started reading request body.
2023-10-11 13:22:37.788 -04:00 [DBG] Connection id "0HMUAFPB5ADLL", Request id "0HMUAFPB5ADLL:00000005": done reading request body.
2023-10-11 13:22:37.871 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:22:37.872 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:22:37.873 -04:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:22:37.878 -04:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:22:37.888 -04:00 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:22:37.901 -04:00 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.9443ms.
2023-10-11 13:22:37.903 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:22:37.906 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:22:37.906 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:22:37.907 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:22:37.908 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-10-11 13:22:37.909 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-11 13:22:37.910 -04:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 135.3493ms
2023-10-11 13:22:37.911 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:22:37.911 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" completed keep alive response.
2023-10-11 13:22:37.912 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 148.9635ms
2023-10-11 13:22:56.477 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-11 13:22:56.478 -04:00 [DBG] The request path  does not match the path filter
2023-10-11 13:22:56.479 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:22:56.480 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-11 13:22:56.481 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:56.482 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:22:56.482 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:22:56.483 -04:00 [DBG] Authorization was successful.
2023-10-11 13:22:56.484 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:56.485 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:22:56.486 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:22:56.487 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:22:56.488 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:22:56.489 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:22:56.490 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:22:56.491 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:22:56.492 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:22:56.493 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:22:56.494 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:22:56.494 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:56.495 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:56.496 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:22:56.496 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:22:56.507 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:22:56.508 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:22:56.510 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:22:56.510 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:22:56.511 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.511 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.512 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:22:56.514 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-10-11 13:22:56.515 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:22:56.516 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.517 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.518 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-11 13:22:56.520 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 13:22:56.522 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:22:56.522 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:22:56.523 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.524 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.525 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-11 13:22:56.526 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-11 13:22:56.528 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:22:56.528 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.529 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.535 -04:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-10-11 13:22:56.561 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-11 13:22:56.567 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:22:56.568 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:22:56.569 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.570 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.571 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-11 13:22:56.572 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-11 13:22:56.584 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:22:56.602 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:22:56.603 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:22:56.603 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:22:56.604 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:22:56.615 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 107.1086ms.
2023-10-11 13:22:56.616 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:22:56.618 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:22:56.618 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:22:56.619 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:22:56.620 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-11 13:22:56.620 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-11 13:22:56.656 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 165.1618ms
2023-10-11 13:22:56.657 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-11 13:22:56.658 -04:00 [DBG] Connection id "0HMUAFPB5ADLL" completed keep alive response.
2023-10-11 13:22:56.658 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:22:56.659 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 200 218 application/json;+charset=utf-8 181.2751ms
2023-10-11 13:30:17.961 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 13:30:18.123 -04:00 [DBG] Hosting starting
2023-10-11 13:30:18.155 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 13:30:18.159 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 13:30:18.170 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 13:30:18.181 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 13:30:18.184 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:30:18.189 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 13:30:18.191 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:30:18.197 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 13:30:18.200 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 13:30:18.203 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 13:30:18.204 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 13:30:18.341 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 13:30:18.363 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 13:30:18.363 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 13:30:18.364 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 13:30:18.364 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 13:30:18.365 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 13:30:18.366 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 13:30:18.366 -04:00 [INF] Hosting environment: Development
2023-10-11 13:30:18.367 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 13:30:18.367 -04:00 [DBG] Hosting started
2023-10-11 13:30:18.518 -04:00 [DBG] Connection id "0HMUAFUUHG56G" received FIN.
2023-10-11 13:30:18.525 -04:00 [DBG] Connection id "0HMUAFUUHG56G" accepted.
2023-10-11 13:30:18.526 -04:00 [DBG] Connection id "0HMUAFUUHG56G" started.
2023-10-11 13:30:18.537 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:30:18.562 -04:00 [DBG] Connection id "0HMUAFUUHG56G" stopped.
2023-10-11 13:30:18.565 -04:00 [DBG] Connection id "0HMUAFUUHG56G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:30:18.694 -04:00 [DBG] Connection id "0HMUAFUUHG56H" accepted.
2023-10-11 13:30:18.694 -04:00 [DBG] Connection id "0HMUAFUUHG56H" started.
2023-10-11 13:30:18.733 -04:00 [DBG] Connection 0HMUAFUUHG56H established using the following protocol: "Tls12"
2023-10-11 13:30:18.764 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 13:30:18.784 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 13:30:18.931 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 13:30:19.028 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 13:30:19.032 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 270.8132ms
2023-10-11 13:30:19.068 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 13:30:19.068 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 13:30:19.077 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.0738ms
2023-10-11 13:30:19.085 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5109ms
2023-10-11 13:30:19.228 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 13:30:19.350 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.5803ms
2023-10-11 13:30:26.561 -04:00 [DBG] Connection id "0HMUAFUUHG56I" accepted.
2023-10-11 13:30:26.562 -04:00 [DBG] Connection id "0HMUAFUUHG56I" received FIN.
2023-10-11 13:30:26.562 -04:00 [DBG] Connection id "0HMUAFUUHG56I" started.
2023-10-11 13:30:26.562 -04:00 [DBG] Connection id "0HMUAFUUHG56J" accepted.
2023-10-11 13:30:26.564 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:30:26.564 -04:00 [DBG] Connection id "0HMUAFUUHG56J" started.
2023-10-11 13:30:26.566 -04:00 [DBG] Connection id "0HMUAFUUHG56I" stopped.
2023-10-11 13:30:26.567 -04:00 [DBG] Connection id "0HMUAFUUHG56I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:30:26.570 -04:00 [DBG] Connection 0HMUAFUUHG56J established using the following protocol: "Tls12"
2023-10-11 13:30:26.575 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114
2023-10-11 13:30:26.577 -04:00 [DBG] POST requests are not supported
2023-10-11 13:30:26.596 -04:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-10-11 13:30:26.600 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-10-11 13:30:26.602 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:30:26.648 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 13:30:26.651 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:30:26.672 -04:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-10-11 13:30:26.674 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:30:26.675 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:30:26.676 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:30:26.677 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:30:26.678 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:30:26.679 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:30:26.681 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:30:26.684 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:30:26.686 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-10-11 13:30:26.687 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-11 13:30:26.688 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-11 13:30:26.694 -04:00 [DBG] Connection id "0HMUAFUUHG56J", Request id "0HMUAFUUHG56J:00000002": started reading request body.
2023-10-11 13:30:26.695 -04:00 [DBG] Connection id "0HMUAFUUHG56J", Request id "0HMUAFUUHG56J:00000002": done reading request body.
2023-10-11 13:30:26.785 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:30:26.787 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:30:26.788 -04:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:30:26.793 -04:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:30:26.854 -04:00 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:30:26.888 -04:00 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1761ms.
2023-10-11 13:30:26.891 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:30:26.894 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:30:26.895 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:30:26.895 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:30:26.896 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-10-11 13:30:26.897 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-11 13:30:26.901 -04:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 218.9422ms
2023-10-11 13:30:26.902 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:30:26.903 -04:00 [DBG] Connection id "0HMUAFUUHG56J" completed keep alive response.
2023-10-11 13:30:26.903 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 327.7212ms
2023-10-11 13:31:21.161 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/cities/3/pointsofinterest application/json 117
2023-10-11 13:31:21.162 -04:00 [DBG] POST requests are not supported
2023-10-11 13:31:21.163 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-10-11 13:31:21.164 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-10-11 13:31:21.165 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-11 13:31:21.248 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:31:21.249 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:31:21.254 -04:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-10-11 13:31:21.256 -04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-10-11 13:31:21.257 -04:00 [DBG] Connection id "0HMUAFUUHG56J" completed keep alive response.
2023-10-11 13:31:21.257 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/cities/3/pointsofinterest application/json 117 - 403 0 - 98.0457ms
2023-10-11 13:31:21.258 -04:00 [DBG] Connection id "0HMUAFUUHG56J", Request id "0HMUAFUUHG56J:00000003": started reading request body.
2023-10-11 13:31:21.258 -04:00 [DBG] Connection id "0HMUAFUUHG56J", Request id "0HMUAFUUHG56J:00000003": done reading request body.
2023-10-11 13:32:18.438 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-11 13:32:18.515 -04:00 [DBG] Hosting starting
2023-10-11 13:32:18.536 -04:00 [INF] User profile is available. Using 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 13:32:18.540 -04:00 [DBG] Reading data from file 'C:\Users\MCCM\AppData\Local\ASP.NET\DataProtection-Keys\key-178bdc61-1a9a-4af4-9494-5798b7cce31f.xml'.
2023-10-11 13:32:18.548 -04:00 [DBG] Found key {178bdc61-1a9a-4af4-9494-5798b7cce31f}.
2023-10-11 13:32:18.557 -04:00 [DBG] Considering key {178bdc61-1a9a-4af4-9494-5798b7cce31f} with expiration date 2024-01-09 16:37:01Z as default key.
2023-10-11 13:32:18.563 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:32:18.569 -04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-10-11 13:32:18.571 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-11 13:32:18.577 -04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-11 13:32:18.579 -04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-11 13:32:18.582 -04:00 [DBG] Using key {178bdc61-1a9a-4af4-9494-5798b7cce31f} as the default key.
2023-10-11 13:32:18.583 -04:00 [DBG] Key ring with default key {178bdc61-1a9a-4af4-9494-5798b7cce31f} was loaded during application startup.
2023-10-11 13:32:18.719 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-11 13:32:18.744 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-11 13:32:18.752 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-11 13:32:18.753 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-11 13:32:18.754 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-11 13:32:18.754 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-11 13:32:18.755 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 13:32:18.756 -04:00 [INF] Hosting environment: Development
2023-10-11 13:32:18.757 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-11 13:32:18.757 -04:00 [DBG] Hosting started
2023-10-11 13:32:19.184 -04:00 [DBG] Connection id "0HMUAG02G7QAL" accepted.
2023-10-11 13:32:19.184 -04:00 [DBG] Connection id "0HMUAG02G7QAM" accepted.
2023-10-11 13:32:19.186 -04:00 [DBG] Connection id "0HMUAG02G7QAL" started.
2023-10-11 13:32:19.188 -04:00 [DBG] Connection id "0HMUAG02G7QAM" started.
2023-10-11 13:32:19.209 -04:00 [DBG] Connection id "0HMUAG02G7QAM" received FIN.
2023-10-11 13:32:19.209 -04:00 [DBG] Connection id "0HMUAG02G7QAL" received FIN.
2023-10-11 13:32:19.222 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:32:19.222 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:32:19.252 -04:00 [DBG] Connection id "0HMUAG02G7QAM" stopped.
2023-10-11 13:32:19.252 -04:00 [DBG] Connection id "0HMUAG02G7QAL" stopped.
2023-10-11 13:32:19.254 -04:00 [DBG] Connection id "0HMUAG02G7QAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:32:19.254 -04:00 [DBG] Connection id "0HMUAG02G7QAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:32:19.397 -04:00 [DBG] Connection id "0HMUAG02G7QAN" accepted.
2023-10-11 13:32:19.402 -04:00 [DBG] Connection id "0HMUAG02G7QAN" started.
2023-10-11 13:32:19.436 -04:00 [DBG] Connection 0HMUAG02G7QAN established using the following protocol: "Tls12"
2023-10-11 13:32:19.469 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-11 13:32:19.490 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-11 13:32:19.651 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-11 13:32:19.738 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-11 13:32:19.741 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 275.6574ms
2023-10-11 13:32:19.759 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 13:32:19.763 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-11 13:32:19.764 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.8416ms
2023-10-11 13:32:19.789 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.4610ms
2023-10-11 13:32:19.928 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-11 13:32:20.048 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.9319ms
2023-10-11 13:32:29.520 -04:00 [DBG] Connection id "0HMUAG02G7QAO" accepted.
2023-10-11 13:32:29.521 -04:00 [DBG] Connection id "0HMUAG02G7QAO" received FIN.
2023-10-11 13:32:29.521 -04:00 [DBG] Connection id "0HMUAG02G7QAO" started.
2023-10-11 13:32:29.521 -04:00 [DBG] Connection id "0HMUAG02G7QAP" accepted.
2023-10-11 13:32:29.523 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-11 13:32:29.523 -04:00 [DBG] Connection id "0HMUAG02G7QAP" started.
2023-10-11 13:32:29.527 -04:00 [DBG] Connection id "0HMUAG02G7QAO" stopped.
2023-10-11 13:32:29.528 -04:00 [DBG] Connection id "0HMUAG02G7QAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-11 13:32:29.530 -04:00 [DBG] Connection 0HMUAG02G7QAP established using the following protocol: "Tls12"
2023-10-11 13:32:29.537 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114
2023-10-11 13:32:29.539 -04:00 [DBG] POST requests are not supported
2023-10-11 13:32:29.557 -04:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-10-11 13:32:29.561 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-10-11 13:32:29.563 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:32:29.603 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-10-11 13:32:29.605 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:32:29.626 -04:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-10-11 13:32:29.628 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:32:29.628 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:32:29.629 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:32:29.630 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:32:29.631 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:32:29.632 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:32:29.633 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-10-11 13:32:29.637 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:32:29.639 -04:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-10-11 13:32:29.640 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-11 13:32:29.642 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-11 13:32:29.648 -04:00 [DBG] Connection id "0HMUAG02G7QAP", Request id "0HMUAG02G7QAP:00000002": started reading request body.
2023-10-11 13:32:29.649 -04:00 [DBG] Connection id "0HMUAG02G7QAP", Request id "0HMUAG02G7QAP:00000002": done reading request body.
2023-10-11 13:32:29.736 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:32:29.737 -04:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:32:29.738 -04:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-10-11 13:32:29.744 -04:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-10-11 13:32:29.800 -04:00 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:32:29.833 -04:00 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.2149ms.
2023-10-11 13:32:29.835 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:32:29.839 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:32:29.840 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:32:29.840 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:32:29.841 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-10-11 13:32:29.842 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-11 13:32:29.847 -04:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 211.2484ms
2023-10-11 13:32:29.847 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-10-11 13:32:29.848 -04:00 [DBG] Connection id "0HMUAG02G7QAP" completed keep alive response.
2023-10-11 13:32:29.849 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 312.5469ms
2023-10-11 13:32:39.455 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7240/api/cities/3/pointsofinterest application/json 117
2023-10-11 13:32:39.456 -04:00 [DBG] POST requests are not supported
2023-10-11 13:32:39.458 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-10-11 13:32:39.459 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-10-11 13:32:39.460 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-11 13:32:39.506 -04:00 [DBG] Successfully validated the token.
2023-10-11 13:32:39.508 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-10-11 13:32:39.513 -04:00 [DBG] Authorization was successful.
2023-10-11 13:32:39.514 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-11 13:32:39.522 -04:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-11 13:32:39.524 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-11 13:32:39.525 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-11 13:32:39.526 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-11 13:32:39.527 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-11 13:32:39.528 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-11 13:32:39.529 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:32:39.732 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-11 13:32:39.750 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-11 13:32:39.751 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:32:39.752 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-11 13:32:39.753 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:32:39.753 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:32:39.754 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-11 13:32:39.755 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-11 13:32:39.755 -04:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-10-11 13:32:39.756 -04:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-10-11 13:32:39.757 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-11 13:32:39.758 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-11 13:32:39.759 -04:00 [DBG] Connection id "0HMUAG02G7QAP", Request id "0HMUAG02G7QAP:00000003": started reading request body.
2023-10-11 13:32:39.759 -04:00 [DBG] Connection id "0HMUAG02G7QAP", Request id "0HMUAG02G7QAP:00000003": done reading request body.
2023-10-11 13:32:39.761 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-10-11 13:32:39.761 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-10-11 13:32:39.762 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-10-11 13:32:39.763 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-10-11 13:32:39.780 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-11 13:32:40.372 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-11 13:32:40.411 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-11 13:32:40.605 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 13:32:40.647 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:32:40.689 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2023-10-11 13:32:40.700 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:40.712 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:40.723 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-11 13:32:40.742 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-11 13:32:40.751 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:32:40.757 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:40.761 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:40.771 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-11 13:32:40.802 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-11 13:32:40.811 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:32:40.811 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:32:40.812 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:40.813 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:40.814 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-11 13:32:40.816 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-11 13:32:40.830 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:32:40.846 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:32:40.847 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:40.848 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:40.853 -04:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-10-11 13:32:40.856 -04:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-11 13:32:40.871 -04:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:32:40.894 -04:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:32:40.914 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:32:40.918 -04:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-11 13:32:40.933 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:40.934 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:40.937 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-11 13:32:40.941 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-11 13:32:40.981 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-11 13:32:40.981 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-11 13:32:40.982 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-10-11 13:32:40.987 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-10-11 13:32:41.005 -04:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-11 13:32:41.010 -04:00 [DBG] A data reader was disposed.
2023-10-11 13:32:41.015 -04:00 [DBG] Committing transaction.
2023-10-11 13:32:41.020 -04:00 [DBG] Committed transaction.
2023-10-11 13:32:41.024 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-11 13:32:41.025 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-11 13:32:41.029 -04:00 [DBG] Disposing transaction.
2023-10-11 13:32:41.036 -04:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-11 13:32:41.038 -04:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-10-11 13:32:41.041 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 1259.7539ms.
2023-10-11 13:32:41.042 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-11 13:32:41.043 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-11 13:32:41.044 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-11 13:32:41.044 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-11 13:32:41.045 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-11 13:32:41.046 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-10-11 13:32:41.057 -04:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-10-11 13:32:41.064 -04:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/8 and 
2023-10-11 13:32:41.065 -04:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/8
2023-10-11 13:32:41.095 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API) in 1566.345ms
2023-10-11 13:32:41.096 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-11 13:32:41.097 -04:00 [DBG] Connection id "0HMUAG02G7QAP" completed keep alive response.
2023-10-11 13:32:41.101 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-11 13:32:41.103 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7240/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 1647.7332ms
