2023-10-04 14:01:41.305 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:01:41.379 -04:00 [DBG] Hosting starting
2023-10-04 14:01:41.589 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:01:41.659 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:01:41.660 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:01:41.660 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:01:41.661 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:01:41.661 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:01:41.662 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:01:41.663 -04:00 [INF] Hosting environment: Development
2023-10-04 14:01:41.663 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:01:41.663 -04:00 [DBG] Hosting started
2023-10-04 14:01:41.716 -04:00 [DBG] Connection id "0HMU50FRAP9AU" accepted.
2023-10-04 14:01:41.716 -04:00 [DBG] Connection id "0HMU50FRAP9AT" accepted.
2023-10-04 14:01:41.717 -04:00 [DBG] Connection id "0HMU50FRAP9AT" started.
2023-10-04 14:01:41.717 -04:00 [DBG] Connection id "0HMU50FRAP9AU" started.
2023-10-04 14:01:41.728 -04:00 [DBG] Connection id "0HMU50FRAP9AT" received FIN.
2023-10-04 14:01:41.728 -04:00 [DBG] Connection id "0HMU50FRAP9AU" received FIN.
2023-10-04 14:01:41.741 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:01:41.741 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:01:41.816 -04:00 [DBG] Connection id "0HMU50FRAP9AT" stopped.
2023-10-04 14:01:41.816 -04:00 [DBG] Connection id "0HMU50FRAP9AU" stopped.
2023-10-04 14:01:41.818 -04:00 [DBG] Connection id "0HMU50FRAP9AT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:01:41.818 -04:00 [DBG] Connection id "0HMU50FRAP9AU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:01:41.954 -04:00 [DBG] Connection id "0HMU50FRAP9AV" accepted.
2023-10-04 14:01:41.955 -04:00 [DBG] Connection id "0HMU50FRAP9AV" started.
2023-10-04 14:01:42.004 -04:00 [DBG] Connection 0HMU50FRAP9AV established using the following protocol: "Tls12"
2023-10-04 14:01:42.063 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:01:42.085 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:01:42.102 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:01:42.103 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:01:42.259 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:01:42.414 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:01:42.417 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 357.8499ms
2023-10-04 14:01:42.470 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:01:42.474 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.8492ms
2023-10-04 14:01:42.490 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:01:42.537 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.3918ms
2023-10-04 14:01:42.689 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:01:42.690 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:01:42.690 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:01:42.707 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/favicon-32x32.png - -
2023-10-04 14:01:42.707 -04:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-10-04 14:01:42.708 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:01:42.717 -04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-10-04 14:01:42.718 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/favicon-32x32.png - - - 200 628 image/png 11.2284ms
2023-10-04 14:01:42.827 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.0069ms
2023-10-04 14:01:56.460 -04:00 [DBG] Connection id "0HMU50FRAP9B0" accepted.
2023-10-04 14:01:56.461 -04:00 [DBG] Connection id "0HMU50FRAP9B0" received FIN.
2023-10-04 14:01:56.461 -04:00 [DBG] Connection id "0HMU50FRAP9B0" started.
2023-10-04 14:01:56.461 -04:00 [DBG] Connection id "0HMU50FRAP9B1" accepted.
2023-10-04 14:01:56.463 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:01:56.463 -04:00 [DBG] Connection id "0HMU50FRAP9B1" started.
2023-10-04 14:01:56.465 -04:00 [DBG] Connection id "0HMU50FRAP9B0" stopped.
2023-10-04 14:01:56.467 -04:00 [DBG] Connection id "0HMU50FRAP9B0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:01:56.468 -04:00 [DBG] Connection 0HMU50FRAP9B1 established using the following protocol: "Tls12"
2023-10-04 14:01:56.476 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 14:01:56.482 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:01:56.486 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:01:56.487 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:01:56.488 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:01:56.490 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:01:56.524 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:01:56.526 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:01:56.527 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:01:56.528 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:01:56.529 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:01:56.529 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:01:56.530 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:01:56.659 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:01:56.778 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:01:56.782 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:01:56.783 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:01:56.785 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:01:56.785 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:01:56.786 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:01:56.788 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:01:56.790 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:01:56.790 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 14:01:56.791 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:01:56.792 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:01:56.793 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:01:56.794 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:01:56.794 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:01:56.863 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:01:57.424 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:01:57.475 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:01:57.685 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:01:57.726 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:01:57.772 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2023-10-04 14:01:57.783 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:01:57.796 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:01:57.808 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:01:57.826 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:01:57.841 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:01:57.862 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:01:57.867 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:01:57.871 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:01:57.883 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1015.3042ms.
2023-10-04 14:01:57.886 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:01:57.891 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:01:57.891 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:01:57.892 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:01:57.893 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:01:57.894 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:01:58.003 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1469.0924ms
2023-10-04 14:01:58.004 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:01:58.005 -04:00 [DBG] Connection id "0HMU50FRAP9B1" completed keep alive response.
2023-10-04 14:01:58.008 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:01:58.011 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1535.0514ms
2023-10-04 14:02:06.424 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:02:06.425 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:02:06.426 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:02:06.427 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:06.427 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:02:06.428 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:06.429 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:02:06.430 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:02:06.431 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:02:06.432 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:02:06.433 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:02:06.434 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:02:06.435 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:06.441 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:06.445 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:06.446 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:02:06.446 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:06.447 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:06.448 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:06.449 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:06.449 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:06.451 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:02:06.452 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:06.452 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:06.453 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:06.454 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:06.473 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:02:06.475 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:02:06.486 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:02:06.500 -04:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-04 14:02:06.576 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:02:06.580 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:02:06.581 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:02:06.582 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:06.583 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:06.583 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:02:06.585 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:02:06.588 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:06.595 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:06.607 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:06.608 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:02:06.609 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:06.610 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:25.061 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:02:25.134 -04:00 [DBG] Hosting starting
2023-10-04 14:02:25.255 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:02:25.344 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:02:25.345 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:02:25.346 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:02:25.346 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:02:25.346 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:02:25.347 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:02:25.348 -04:00 [INF] Hosting environment: Development
2023-10-04 14:02:25.348 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:02:25.349 -04:00 [DBG] Hosting started
2023-10-04 14:02:26.169 -04:00 [DBG] Connection id "0HMU50G8INRHQ" received FIN.
2023-10-04 14:02:26.177 -04:00 [DBG] Connection id "0HMU50G8INRHQ" accepted.
2023-10-04 14:02:26.180 -04:00 [DBG] Connection id "0HMU50G8INRHQ" started.
2023-10-04 14:02:26.195 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:02:26.220 -04:00 [DBG] Connection id "0HMU50G8INRHQ" stopped.
2023-10-04 14:02:26.223 -04:00 [DBG] Connection id "0HMU50G8INRHQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:02:26.409 -04:00 [DBG] Connection id "0HMU50G8INRHR" accepted.
2023-10-04 14:02:26.411 -04:00 [DBG] Connection id "0HMU50G8INRHR" started.
2023-10-04 14:02:26.450 -04:00 [DBG] Connection 0HMU50G8INRHR established using the following protocol: "Tls12"
2023-10-04 14:02:26.483 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:02:26.512 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:02:26.529 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:02:26.529 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:02:26.690 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:02:26.779 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:02:26.783 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 302.3366ms
2023-10-04 14:02:26.804 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:02:26.808 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.9619ms
2023-10-04 14:02:26.809 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:02:26.826 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5257ms
2023-10-04 14:02:26.975 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:02:26.976 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:02:26.977 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:02:27.096 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.1621ms
2023-10-04 14:02:30.701 -04:00 [DBG] Connection id "0HMU50G8INRHS" accepted.
2023-10-04 14:02:30.701 -04:00 [DBG] Connection id "0HMU50G8INRHS" received FIN.
2023-10-04 14:02:30.702 -04:00 [DBG] Connection id "0HMU50G8INRHS" started.
2023-10-04 14:02:30.702 -04:00 [DBG] Connection id "0HMU50G8INRHT" accepted.
2023-10-04 14:02:30.703 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:02:30.704 -04:00 [DBG] Connection id "0HMU50G8INRHT" started.
2023-10-04 14:02:30.705 -04:00 [DBG] Connection id "0HMU50G8INRHS" stopped.
2023-10-04 14:02:30.707 -04:00 [DBG] Connection id "0HMU50G8INRHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:02:30.709 -04:00 [DBG] Connection 0HMU50G8INRHT established using the following protocol: "Tls12"
2023-10-04 14:02:30.716 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 14:02:30.721 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:02:30.726 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:02:30.727 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:30.728 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:02:30.730 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:30.759 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:02:30.761 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:02:30.762 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:02:30.763 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:02:30.764 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:02:30.765 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:02:30.766 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:30.865 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:02:30.978 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:30.982 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:30.984 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:02:30.986 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:30.986 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:30.987 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:30.989 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:30.990 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:30.991 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 14:02:30.992 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:30.993 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:30.993 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:30.994 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:30.995 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:31.052 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:02:31.594 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:02:31.645 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:02:31.848 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:02:31.888 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:02:31.928 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2023-10-04 14:02:31.939 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:31.952 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:31.963 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:02:31.982 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:02:31.997 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:32.018 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:02:32.023 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:32.027 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:32.038 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 981.8976ms.
2023-10-04 14:02:32.040 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:02:32.043 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:02:32.044 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:02:32.044 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:02:32.045 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:02:32.045 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:02:32.130 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1360.7893ms
2023-10-04 14:02:32.132 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:32.132 -04:00 [DBG] Connection id "0HMU50G8INRHT" completed keep alive response.
2023-10-04 14:02:32.136 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:02:32.139 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1423.5787ms
2023-10-04 14:02:34.214 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:02:34.216 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:02:34.217 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:02:34.218 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:34.218 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:02:34.219 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:34.220 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:02:34.221 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:02:34.222 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:02:34.223 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:02:34.225 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:02:34.225 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:02:34.226 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:34.233 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:02:34.237 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:34.238 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:02:34.239 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:34.239 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:34.241 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:02:34.241 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:02:34.243 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:34.244 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:02:34.245 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:34.246 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:34.247 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:02:34.248 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:02:34.262 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:02:34.264 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:02:34.276 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:02:34.291 -04:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-04 14:02:34.366 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:02:34.369 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:02:34.370 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:02:34.370 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:34.371 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:34.372 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:02:34.374 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:02:34.375 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:34.382 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:34.394 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:02:34.395 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:02:34.395 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:02:34.397 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:02:34.399 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 136.1331ms.
2023-10-04 14:02:34.400 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:02:34.402 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:02:34.402 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:02:34.403 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:02:34.403 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:02:34.404 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 14:02:34.413 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 186.3066ms
2023-10-04 14:02:34.413 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:02:34.414 -04:00 [DBG] Connection id "0HMU50G8INRHT" completed keep alive response.
2023-10-04 14:02:34.414 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:02:34.415 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 200 125 application/json;+charset=utf-8 200.5510ms
2023-10-04 14:20:02.340 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:20:02.727 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:20:02.753 -04:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.757 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.764 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.773 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:20:02.777 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-10-04 14:20:02.778 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.780 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.784 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:02.794 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:02.795 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.797 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:20:02.798 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-04 14:20:02.798 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:02.798 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:02.798 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.798 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.805 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:20:02.805 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:20:02.805 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.805 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.805 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:20:02.806 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:20:02.807 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:20:02.807 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:02.807 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:02.816 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:20:19.998 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:20:20.372 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:20:20.397 -04:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.401 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.408 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.418 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:20:20.422 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-10-04 14:20:20.422 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.424 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.428 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:20.438 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:20.439 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.441 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.442 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.442 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.442 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:20:20.442 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-04 14:20:20.442 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.442 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.442 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:20.442 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:20:20.443 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.443 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.449 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:20:20.449 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:20:20.449 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.449 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.449 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:20:20.450 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:20:20.451 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:20:20.451 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.451 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.462 -04:00 [INF] Reverting migration '20230927232431_PointOfInterestCorrection'.
2023-10-04 14:20:20.495 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:20.495 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:20.496 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:20:20.498 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:20:20.499 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.499 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.499 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointsOfInterest" RENAME TO "PointOfInterests";
2023-10-04 14:20:20.500 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointsOfInterest" RENAME TO "PointOfInterests";
2023-10-04 14:20:20.500 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.500 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.500 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointsOfInterest_CityId";
2023-10-04 14:20:20.500 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointsOfInterest_CityId";
2023-10-04 14:20:20.500 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.500 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.500 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-04 14:20:20.500 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-04 14:20:20.500 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.500 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.500 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfInterests" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterests" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointOfInterests_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-04 14:20:20.500 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfInterests" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterests" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointOfInterests_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-04 14:20:20.500 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.500 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.500 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfInterests" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointOfInterests";
2023-10-04 14:20:20.500 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfInterests" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointOfInterests";
2023-10-04 14:20:20.501 -04:00 [DBG] Committing transaction.
2023-10-04 14:20:20.504 -04:00 [DBG] Committed transaction.
2023-10-04 14:20:20.504 -04:00 [DBG] Disposing transaction.
2023-10-04 14:20:20.504 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.504 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.504 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-10-04 14:20:20.504 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-10-04 14:20:20.504 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:20:20.504 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:20:20.504 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:20.504 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:20.504 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointOfInterests";
2023-10-04 14:20:22.049 -04:00 [INF] Executed DbCommand (1,544ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointOfInterests";
2023-10-04 14:20:22.049 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:22.049 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:22.049 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointOfInterests" RENAME TO "PointOfInterests";
2023-10-04 14:20:22.049 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointOfInterests" RENAME TO "PointOfInterests";
2023-10-04 14:20:22.049 -04:00 [DBG] Committing transaction.
2023-10-04 14:20:22.050 -04:00 [DBG] Committed transaction.
2023-10-04 14:20:22.050 -04:00 [DBG] Disposing transaction.
2023-10-04 14:20:22.051 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:22.051 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:22.051 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-10-04 14:20:22.051 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-10-04 14:20:22.051 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:20:22.051 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:20:22.051 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:22.051 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:22.051 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-04 14:20:22.051 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-04 14:20:22.051 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:20:22.051 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:20:22.051 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsHistory"
WHERE "MigrationId" = '20230927232431_PointOfInterestCorrection';
2023-10-04 14:20:22.051 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsHistory"
WHERE "MigrationId" = '20230927232431_PointOfInterestCorrection';
2023-10-04 14:20:22.051 -04:00 [DBG] Committing transaction.
2023-10-04 14:20:22.052 -04:00 [DBG] Committed transaction.
2023-10-04 14:20:22.052 -04:00 [DBG] Disposing transaction.
2023-10-04 14:20:22.052 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:22.052 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:22.053 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:20:32.949 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:20:33.018 -04:00 [DBG] Hosting starting
2023-10-04 14:20:33.112 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:20:33.135 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:20:33.136 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:20:33.136 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:20:33.137 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:20:33.138 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:20:33.138 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:20:33.139 -04:00 [INF] Hosting environment: Development
2023-10-04 14:20:33.140 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:20:33.140 -04:00 [DBG] Hosting started
2023-10-04 14:20:33.624 -04:00 [DBG] Connection id "0HMU50QCLGTBH" received FIN.
2023-10-04 14:20:33.632 -04:00 [DBG] Connection id "0HMU50QCLGTBH" accepted.
2023-10-04 14:20:33.633 -04:00 [DBG] Connection id "0HMU50QCLGTBH" started.
2023-10-04 14:20:33.648 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:20:33.673 -04:00 [DBG] Connection id "0HMU50QCLGTBH" stopped.
2023-10-04 14:20:33.677 -04:00 [DBG] Connection id "0HMU50QCLGTBH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:20:33.872 -04:00 [DBG] Connection id "0HMU50QCLGTBI" accepted.
2023-10-04 14:20:33.875 -04:00 [DBG] Connection id "0HMU50QCLGTBI" started.
2023-10-04 14:20:33.938 -04:00 [DBG] Connection 0HMU50QCLGTBI established using the following protocol: "Tls12"
2023-10-04 14:20:33.983 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:20:34.009 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:20:34.032 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:20:34.033 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:20:34.253 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:20:34.422 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:20:34.426 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 446.2899ms
2023-10-04 14:20:34.665 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:20:34.665 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:20:34.677 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.5505ms
2023-10-04 14:20:34.713 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.9340ms
2023-10-04 14:20:34.923 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:20:34.924 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:20:34.925 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:20:35.051 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.4172ms
2023-10-04 14:20:39.759 -04:00 [DBG] Connection id "0HMU50QCLGTBJ" accepted.
2023-10-04 14:20:39.759 -04:00 [DBG] Connection id "0HMU50QCLGTBJ" received FIN.
2023-10-04 14:20:39.759 -04:00 [DBG] Connection id "0HMU50QCLGTBJ" started.
2023-10-04 14:20:39.760 -04:00 [DBG] Connection id "0HMU50QCLGTBK" accepted.
2023-10-04 14:20:39.762 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:20:39.762 -04:00 [DBG] Connection id "0HMU50QCLGTBK" started.
2023-10-04 14:20:39.767 -04:00 [DBG] Connection id "0HMU50QCLGTBJ" stopped.
2023-10-04 14:20:39.768 -04:00 [DBG] Connection id "0HMU50QCLGTBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:20:39.771 -04:00 [DBG] Connection 0HMU50QCLGTBK established using the following protocol: "Tls12"
2023-10-04 14:20:39.780 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 14:20:39.786 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:20:39.791 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:20:39.792 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:39.795 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:20:39.797 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:39.825 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:20:39.827 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:20:39.828 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:20:39.829 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:20:39.830 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:20:39.831 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:20:39.832 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:20:39.931 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:20:40.041 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:20:40.045 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:20:40.047 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:20:40.048 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:40.049 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:40.049 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:20:40.051 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:40.053 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:20:40.053 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 14:20:40.054 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:40.055 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:40.056 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:40.056 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:20:40.057 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:40.116 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:20:40.688 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:20:40.740 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:20:40.960 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:20:41.003 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:20:41.048 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2023-10-04 14:20:41.059 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:41.072 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:41.084 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:20:41.103 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:20:41.119 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:20:41.139 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:20:41.144 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:41.149 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:41.160 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1039.0834ms.
2023-10-04 14:20:41.162 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:20:41.166 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:20:41.166 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:20:41.167 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:20:41.168 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:20:41.169 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:20:41.262 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1426.9361ms
2023-10-04 14:20:41.263 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:41.263 -04:00 [DBG] Connection id "0HMU50QCLGTBK" completed keep alive response.
2023-10-04 14:20:41.266 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:20:41.269 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1489.0705ms
2023-10-04 14:20:44.396 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:20:44.397 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:20:44.398 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:20:44.399 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:44.399 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:20:44.400 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:44.400 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:20:44.401 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:20:44.402 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:20:44.403 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:20:44.404 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:20:44.405 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:20:44.406 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:20:44.412 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:20:44.416 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:20:44.416 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:20:44.417 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:44.418 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:44.419 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:20:44.419 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:20:44.420 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:20:44.421 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:20:44.423 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:44.423 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:44.424 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:20:44.425 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:20:44.439 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:20:44.454 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:20:44.465 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:20:44.480 -04:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-04 14:20:44.556 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:20:44.559 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:20:44.560 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:20:44.561 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:44.561 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:44.562 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:20:44.567 -04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:20:44.570 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:20:44.571 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:20:44.575 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-10-04 14:20:46.215 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1808.58ms
2023-10-04 14:20:46.216 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:20:46.217 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\Services\CityInfoRepository.cs:line 24
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\Controllers\CitiesController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-04 14:20:46.336 -04:00 [DBG] Connection id "0HMU50QCLGTBK" completed keep alive response.
2023-10-04 14:20:46.337 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:20:46.338 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 1941.5750ms
2023-10-04 14:24:57.838 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:24:58.238 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:24:58.265 -04:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.268 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.275 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.285 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:24:58.289 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-10-04 14:24:58.290 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.291 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.295 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:24:58.305 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:24:58.306 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.308 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-04 14:24:58.309 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-04 14:24:58.309 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:24:58.309 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-04 14:24:58.309 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.309 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.316 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:24:58.316 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:24:58.316 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.316 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.316 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:24:58.317 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-04 14:24:58.318 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:24:58.318 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.318 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.330 -04:00 [INF] Applying migration '20230927232431_PointOfInterestCorrection'.
2023-10-04 14:24:58.361 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:58.362 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:58.362 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:24:58.364 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:24:58.365 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:58.365 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:58.365 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterests" RENAME TO "PointsOfInterest";
2023-10-04 14:24:58.366 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterests" RENAME TO "PointsOfInterest";
2023-10-04 14:24:58.366 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:58.366 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:58.366 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointOfInterests_CityId";
2023-10-04 14:24:58.366 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointOfInterests_CityId";
2023-10-04 14:24:58.366 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:58.366 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:58.366 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-10-04 14:24:58.366 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-10-04 14:24:58.366 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:58.366 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:58.367 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointsOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointsOfInterest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointsOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-04 14:24:58.367 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointsOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointsOfInterest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointsOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-04 14:24:58.367 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:58.367 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:58.367 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointsOfInterest" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointsOfInterest";
2023-10-04 14:24:58.367 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointsOfInterest" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointsOfInterest";
2023-10-04 14:24:59.189 -04:00 [DBG] Committing transaction.
2023-10-04 14:24:59.192 -04:00 [DBG] Committed transaction.
2023-10-04 14:24:59.192 -04:00 [DBG] Disposing transaction.
2023-10-04 14:24:59.192 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.192 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.192 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-10-04 14:24:59.193 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-10-04 14:24:59.193 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:24:59.193 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:24:59.193 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.193 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.193 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointsOfInterest";
2023-10-04 14:24:59.193 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointsOfInterest";
2023-10-04 14:24:59.193 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.193 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.193 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointsOfInterest" RENAME TO "PointsOfInterest";
2023-10-04 14:24:59.193 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointsOfInterest" RENAME TO "PointsOfInterest";
2023-10-04 14:24:59.193 -04:00 [DBG] Committing transaction.
2023-10-04 14:24:59.194 -04:00 [DBG] Committed transaction.
2023-10-04 14:24:59.194 -04:00 [DBG] Disposing transaction.
2023-10-04 14:24:59.194 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.194 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.194 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-10-04 14:24:59.194 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-10-04 14:24:59.194 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-04 14:24:59.194 -04:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-04 14:24:59.194 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.194 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.194 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-10-04 14:24:59.195 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-10-04 14:24:59.195 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-04 14:24:59.195 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-04 14:24:59.195 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230927232431_PointOfInterestCorrection', '6.0.0');
2023-10-04 14:24:59.195 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230927232431_PointOfInterestCorrection', '6.0.0');
2023-10-04 14:24:59.195 -04:00 [DBG] Committing transaction.
2023-10-04 14:24:59.195 -04:00 [DBG] Committed transaction.
2023-10-04 14:24:59.195 -04:00 [DBG] Disposing transaction.
2023-10-04 14:24:59.195 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:24:59.195 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:24:59.196 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:25:14.613 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:25:14.686 -04:00 [DBG] Hosting starting
2023-10-04 14:25:14.791 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:25:14.817 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:25:14.824 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:25:14.824 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:25:14.825 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:25:14.825 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:25:14.826 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:25:14.827 -04:00 [INF] Hosting environment: Development
2023-10-04 14:25:14.827 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:25:14.828 -04:00 [DBG] Hosting started
2023-10-04 14:25:15.328 -04:00 [DBG] Connection id "0HMU50T0K23UL" received FIN.
2023-10-04 14:25:15.335 -04:00 [DBG] Connection id "0HMU50T0K23UL" accepted.
2023-10-04 14:25:15.337 -04:00 [DBG] Connection id "0HMU50T0K23UL" started.
2023-10-04 14:25:15.352 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:25:15.380 -04:00 [DBG] Connection id "0HMU50T0K23UL" stopped.
2023-10-04 14:25:15.384 -04:00 [DBG] Connection id "0HMU50T0K23UL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:25:15.573 -04:00 [DBG] Connection id "0HMU50T0K23UM" accepted.
2023-10-04 14:25:15.582 -04:00 [DBG] Connection id "0HMU50T0K23UM" started.
2023-10-04 14:25:15.653 -04:00 [DBG] Connection 0HMU50T0K23UM established using the following protocol: "Tls12"
2023-10-04 14:25:15.712 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:25:15.740 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:25:15.759 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:25:15.763 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:25:15.984 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:25:16.124 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:25:16.130 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 421.1540ms
2023-10-04 14:25:16.180 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:25:16.180 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:25:16.194 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.5425ms
2023-10-04 14:25:16.224 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.3991ms
2023-10-04 14:25:16.408 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:25:16.409 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:25:16.410 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:25:16.550 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.5037ms
2023-10-04 14:25:18.216 -04:00 [DBG] Connection id "0HMU50T0K23UN" accepted.
2023-10-04 14:25:18.217 -04:00 [DBG] Connection id "0HMU50T0K23UN" received FIN.
2023-10-04 14:25:18.217 -04:00 [DBG] Connection id "0HMU50T0K23UN" started.
2023-10-04 14:25:18.217 -04:00 [DBG] Connection id "0HMU50T0K23UO" accepted.
2023-10-04 14:25:18.219 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:25:18.220 -04:00 [DBG] Connection id "0HMU50T0K23UO" started.
2023-10-04 14:25:18.222 -04:00 [DBG] Connection id "0HMU50T0K23UN" stopped.
2023-10-04 14:25:18.223 -04:00 [DBG] Connection id "0HMU50T0K23UN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:25:18.225 -04:00 [DBG] Connection 0HMU50T0K23UO established using the following protocol: "Tls12"
2023-10-04 14:25:18.233 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 14:25:18.238 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:25:18.244 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:25:18.246 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:18.247 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:25:18.249 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:18.278 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:25:18.280 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:25:18.282 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:25:18.284 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:25:18.286 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:25:18.287 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:25:18.289 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:25:18.388 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:25:18.494 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:25:18.498 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:25:18.499 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:25:18.500 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:18.501 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:18.502 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:25:18.503 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:18.505 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:25:18.506 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 14:25:18.507 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:18.507 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:18.508 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:18.508 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:25:18.509 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:18.568 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:25:19.122 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:25:19.180 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:25:19.387 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:25:19.427 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:25:19.469 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2023-10-04 14:25:19.480 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:25:19.492 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:25:19.504 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:25:19.523 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:25:19.539 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:25:19.560 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:25:19.565 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:25:19.569 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:25:19.580 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1008.0308ms.
2023-10-04 14:25:19.583 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:25:19.587 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:25:19.587 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:25:19.588 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:25:19.589 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:25:19.590 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:25:19.683 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1390.8109ms
2023-10-04 14:25:19.684 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:19.685 -04:00 [DBG] Connection id "0HMU50T0K23UO" completed keep alive response.
2023-10-04 14:25:19.688 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:25:19.691 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1458.0746ms
2023-10-04 14:25:22.254 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:25:22.255 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:25:22.256 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:25:22.257 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:22.258 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:25:22.258 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:22.259 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:25:22.261 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:25:22.262 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:25:22.263 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:25:22.264 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:25:22.265 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:25:22.266 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:25:22.272 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:25:22.276 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:25:22.277 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:25:22.278 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:22.279 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:22.279 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:25:22.280 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:25:22.281 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:25:22.282 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:25:22.283 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:22.284 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:22.284 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:25:22.285 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:25:22.300 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:25:22.302 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:25:22.314 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:25:22.329 -04:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-04 14:25:22.406 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:25:22.410 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:25:22.410 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:25:22.411 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:25:22.412 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:25:22.413 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:25:22.415 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:25:22.417 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:25:22.423 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:25:22.435 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:25:22.436 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:25:22.436 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:25:22.437 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:25:22.439 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 138.0726ms.
2023-10-04 14:25:22.440 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:25:22.441 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:25:22.442 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:25:22.442 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:25:22.443 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:25:22.444 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 14:25:22.453 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 187.4644ms
2023-10-04 14:25:22.454 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:25:22.454 -04:00 [DBG] Connection id "0HMU50T0K23UO" completed keep alive response.
2023-10-04 14:25:22.455 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:25:22.456 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 200 125 application/json;+charset=utf-8 202.0351ms
2023-10-04 14:49:13.989 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:49:14.057 -04:00 [DBG] Hosting starting
2023-10-04 14:49:14.147 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:49:14.169 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:49:14.169 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:49:14.170 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:49:14.170 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:49:14.171 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:49:14.171 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:49:14.172 -04:00 [INF] Hosting environment: Development
2023-10-04 14:49:14.173 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:49:14.173 -04:00 [DBG] Hosting started
2023-10-04 14:49:14.742 -04:00 [DBG] Connection id "0HMU51ADJCFQB" received FIN.
2023-10-04 14:49:14.748 -04:00 [DBG] Connection id "0HMU51ADJCFQB" accepted.
2023-10-04 14:49:14.749 -04:00 [DBG] Connection id "0HMU51ADJCFQB" started.
2023-10-04 14:49:14.761 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:49:14.786 -04:00 [DBG] Connection id "0HMU51ADJCFQB" stopped.
2023-10-04 14:49:14.789 -04:00 [DBG] Connection id "0HMU51ADJCFQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:49:15.066 -04:00 [DBG] Connection id "0HMU51ADJCFQC" accepted.
2023-10-04 14:49:15.068 -04:00 [DBG] Connection id "0HMU51ADJCFQC" started.
2023-10-04 14:49:15.117 -04:00 [DBG] Connection 0HMU51ADJCFQC established using the following protocol: "Tls12"
2023-10-04 14:49:15.158 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:49:15.184 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:49:15.204 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:49:15.205 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:49:15.409 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:49:15.515 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:49:15.519 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 364.1343ms
2023-10-04 14:49:15.558 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:49:15.559 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:49:15.566 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.3419ms
2023-10-04 14:49:15.585 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.0184ms
2023-10-04 14:49:15.763 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:49:15.764 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:49:15.765 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:49:15.911 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.0609ms
2023-10-04 14:49:20.555 -04:00 [DBG] Connection id "0HMU51ADJCFQD" accepted.
2023-10-04 14:49:20.556 -04:00 [DBG] Connection id "0HMU51ADJCFQD" received FIN.
2023-10-04 14:49:20.556 -04:00 [DBG] Connection id "0HMU51ADJCFQD" started.
2023-10-04 14:49:20.556 -04:00 [DBG] Connection id "0HMU51ADJCFQE" accepted.
2023-10-04 14:49:20.558 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:49:20.558 -04:00 [DBG] Connection id "0HMU51ADJCFQE" started.
2023-10-04 14:49:20.560 -04:00 [DBG] Connection id "0HMU51ADJCFQD" stopped.
2023-10-04 14:49:20.561 -04:00 [DBG] Connection id "0HMU51ADJCFQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:49:20.563 -04:00 [DBG] Connection 0HMU51ADJCFQE established using the following protocol: "Tls12"
2023-10-04 14:49:20.571 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 14:49:20.576 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:49:20.580 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:49:20.582 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:20.583 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:49:20.585 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:20.612 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:49:20.614 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:49:20.615 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:49:20.616 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:49:20.617 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:49:20.617 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:49:20.619 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:20.717 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:49:20.828 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:20.831 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:49:20.832 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:49:20.834 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:20.834 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:20.835 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:49:20.836 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:20.838 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:49:20.838 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 14:49:20.839 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:20.840 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:20.841 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:20.841 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:49:20.842 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:20.900 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:49:21.460 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:49:21.512 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:49:21.725 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:49:21.766 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:49:21.808 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2023-10-04 14:49:21.819 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:21.831 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:21.843 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:49:21.863 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:49:21.879 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:21.899 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:49:21.905 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:21.909 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:21.920 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1016.4499ms.
2023-10-04 14:49:21.923 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:49:21.926 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:49:21.927 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:49:21.928 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:49:21.928 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:49:21.929 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:49:22.015 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1392.6936ms
2023-10-04 14:49:22.016 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:22.017 -04:00 [DBG] Connection id "0HMU51ADJCFQE" completed keep alive response.
2023-10-04 14:49:22.020 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:49:22.023 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1452.0571ms
2023-10-04 14:49:24.724 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:49:24.725 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:49:24.726 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:49:24.727 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:24.728 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:49:24.729 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:24.730 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:49:24.731 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:49:24.732 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:49:24.733 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:49:24.734 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:49:24.735 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:49:24.736 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:24.743 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:24.746 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:49:24.747 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:49:24.748 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:24.748 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:24.749 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:49:24.750 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:49:24.750 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:49:24.752 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:49:24.753 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:24.753 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:24.754 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:49:24.755 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:49:24.769 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:49:24.782 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:49:24.795 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 14:49:24.811 -04:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-04 14:49:24.889 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 14:49:24.893 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:49:24.894 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:49:24.894 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:24.895 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:24.896 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:49:24.898 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:49:24.900 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:24.906 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:24.919 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:24.920 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:49:24.920 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:24.921 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:24.922 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 152.1747ms.
2023-10-04 14:49:24.923 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:49:24.924 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:49:24.925 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:49:24.925 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:49:24.926 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:49:24.926 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 14:49:24.935 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 199.3811ms
2023-10-04 14:49:24.936 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:49:24.937 -04:00 [DBG] Connection id "0HMU51ADJCFQE" completed keep alive response.
2023-10-04 14:49:24.937 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:49:24.938 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 200 125 application/json;+charset=utf-8 213.9613ms
2023-10-04 14:49:46.988 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities - -
2023-10-04 14:49:46.989 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-04 14:49:46.990 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-04 14:49:46.991 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:49:46.991 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:49:46.992 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:49:46.995 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:49:46.996 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:49:46.997 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:49:46.997 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:49:46.998 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:49:46.999 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:49:47.000 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:47.002 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:49:47.013 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:49:47.045 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:49:47.051 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-04 14:49:47.056 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-04 14:49:47.058 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:49:47.058 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:49:47.059 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:47.060 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:47.061 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-04 14:49:47.062 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-04 14:49:47.064 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:47.065 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:47.066 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:49:47.067 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:49:47.067 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:49:47.068 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:49:47.082 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.6818ms.
2023-10-04 14:49:47.084 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:49:47.087 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-04 14:49:47.088 -04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-04 14:49:47.089 -04:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-10-04 14:49:47.090 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 89.6032ms
2023-10-04 14:49:47.091 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:49:47.091 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:49:47.092 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities - - - 406 0 - 103.4905ms
2023-10-04 14:50:17.078 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 14:50:17.079 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 14:50:17.079 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 14:50:17.080 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:17.081 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:50:17.081 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:17.082 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:50:17.083 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:50:17.084 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:50:17.084 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:50:17.085 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:50:17.086 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:50:17.087 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:17.088 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:17.089 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:17.090 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:50:17.090 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:17.091 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:17.091 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:17.092 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:17.093 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:17.093 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:50:17.094 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:17.095 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:17.096 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:17.096 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:17.105 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:50:17.106 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:50:17.109 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:50:17.110 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:50:17.111 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:17.111 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:17.112 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:50:17.113 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:50:17.115 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:17.115 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:17.116 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:17.117 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:50:17.117 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:17.118 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:17.119 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.9788ms.
2023-10-04 14:50:17.120 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:50:17.121 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:50:17.121 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:50:17.122 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:50:17.122 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:50:17.123 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 14:50:17.124 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 36.4148ms
2023-10-04 14:50:17.125 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:17.125 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:50:17.126 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 200 125 application/json;+charset=utf-8 47.4201ms
2023-10-04 14:50:23.534 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/2?includePointsOfInterest=true - -
2023-10-04 14:50:23.535 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-10-04 14:50:23.535 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-10-04 14:50:23.537 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:23.537 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:50:23.538 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:23.538 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:50:23.539 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:50:23.540 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:50:23.541 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:50:23.542 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:50:23.543 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:50:23.544 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:23.544 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:23.545 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:23.546 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:50:23.546 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:23.547 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:23.548 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:23.548 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:23.549 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:23.550 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:50:23.551 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:23.552 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:23.552 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:23.553 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:23.563 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:50:23.565 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:50:23.566 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:50:23.567 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:50:23.567 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:23.568 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:23.569 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:50:23.570 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 14:50:23.571 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:23.572 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:23.573 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:23.574 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:50:23.574 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:23.575 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:23.575 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.2175ms.
2023-10-04 14:50:23.576 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:50:23.578 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:50:23.578 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:50:23.579 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:50:23.579 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:50:23.580 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 14:50:23.581 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 37.246ms
2023-10-04 14:50:23.582 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:23.583 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:50:23.583 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/2?includePointsOfInterest=true - - - 200 144 application/json;+charset=utf-8 49.1298ms
2023-10-04 14:50:29.160 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/2?includePointsOfInterest=false - -
2023-10-04 14:50:29.161 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-10-04 14:50:29.161 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-10-04 14:50:29.162 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:29.163 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:50:29.163 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:29.164 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:50:29.165 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:50:29.165 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:50:29.166 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:50:29.167 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:50:29.168 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:50:29.168 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:29.169 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:50:29.170 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:29.170 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 14:50:29.171 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:29.172 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:29.172 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 14:50:29.173 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 14:50:29.174 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:29.175 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 14:50:29.176 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:29.176 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:29.177 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 14:50:29.178 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 14:50:29.187 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:50:29.188 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:50:29.189 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:50:29.189 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 14:50:29.191 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:29.191 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:29.192 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:50:29.194 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 14:50:29.195 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:50:29.196 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:50:29.196 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:50:29.197 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:50:29.197 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.9567ms.
2023-10-04 14:50:29.199 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:50:29.200 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:50:29.200 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:50:29.201 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:50:29.202 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:50:29.203 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 14:50:29.203 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 34.9038ms
2023-10-04 14:50:29.204 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 14:50:29.205 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:50:29.205 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/2?includePointsOfInterest=false - - - 200 93 application/json;+charset=utf-8 45.4456ms
2023-10-04 14:52:41.605 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - -
2023-10-04 14:52:41.606 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:52:41.606 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:52:41.607 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:41.608 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:52:41.609 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:41.610 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:52:41.611 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:52:41.612 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:52:41.612 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:52:41.613 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:52:41.614 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:52:41.615 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:52:41.616 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:52:41.617 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:52:41.618 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:52:41.619 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:41.619 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:41.620 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:52:41.621 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:41.622 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:52:41.622 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-04 14:52:41.626 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:52:41.626 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:52:41.627 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:52:41.628 -04:00 [DBG] The request has model state errors, returning an error response.
2023-10-04 14:52:41.630 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-10-04 14:52:41.631 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:52:41.632 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-10-04 14:52:41.634 -04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-04 14:52:41.634 -04:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2023-10-04 14:52:41.636 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 20.7873ms
2023-10-04 14:52:41.636 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:41.637 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - - - 406 0 - 31.7922ms
2023-10-04 14:52:48.957 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - -
2023-10-04 14:52:48.958 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:52:48.959 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:52:48.960 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:48.960 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:52:48.961 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:48.961 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:52:48.962 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:52:48.963 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:52:48.964 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:52:48.965 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:52:48.966 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:52:48.967 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:52:48.967 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:52:48.968 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:52:48.969 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:52:48.969 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:48.970 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:48.971 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:52:48.972 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:52:48.972 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:52:48.973 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-04 14:52:48.974 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:52:48.975 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:52:48.975 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:52:48.976 -04:00 [DBG] The request has model state errors, returning an error response.
2023-10-04 14:52:48.976 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-10-04 14:52:48.977 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:52:48.979 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-10-04 14:52:48.980 -04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-04 14:52:48.981 -04:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2023-10-04 14:52:48.982 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 15.0048ms
2023-10-04 14:52:48.982 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:52:48.983 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - - - 406 0 - 25.8331ms
2023-10-04 14:53:01.709 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-04 14:53:01.715 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-04 14:53:01.716 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-04 14:53:01.717 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:01.718 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:53:01.718 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:01.719 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:53:01.720 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:53:01.721 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:53:01.722 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:53:01.723 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:53:01.724 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:53:01.724 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:01.725 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:01.726 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:01.726 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:53:01.727 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:01.728 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:01.728 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:01.729 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:01.738 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:53:01.739 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6908ms.
2023-10-04 14:53:01.740 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:53:01.741 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-04 14:53:01.742 -04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-04 14:53:01.743 -04:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-10-04 14:53:01.743 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 19.0613ms
2023-10-04 14:53:01.744 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:01.745 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest - - - 406 0 - 35.6112ms
2023-10-04 14:53:13.354 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - -
2023-10-04 14:53:13.354 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-04 14:53:13.355 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-04 14:53:13.356 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:13.356 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:53:13.357 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:13.358 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:53:13.359 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:53:13.360 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:53:13.361 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:53:13.362 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:53:13.363 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:53:13.364 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:13.365 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:13.366 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:13.367 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:53:13.368 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:13.369 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:13.370 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:13.370 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:13.381 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:53:13.382 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0124ms.
2023-10-04 14:53:13.383 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:53:13.384 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:53:13.385 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:53:13.385 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:53:13.386 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:53:13.387 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-04 14:53:13.388 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 24.0608ms
2023-10-04 14:53:13.389 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:13.390 -04:00 [DBG] Connection id "0HMU51ADJCFQE" completed keep alive response.
2023-10-04 14:53:13.390 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1/pointsofinterest - - - 200 198 application/json;+charset=utf-8 36.7270ms
2023-10-04 14:53:22.765 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - -
2023-10-04 14:53:22.766 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-10-04 14:53:22.766 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-10-04 14:53:22.767 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:22.768 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:53:22.768 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:22.769 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:53:22.770 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:53:22.771 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:53:22.771 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:53:22.772 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:53:22.773 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:53:22.774 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:22.774 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:22.775 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:22.776 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:53:22.777 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:22.777 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:22.778 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:22.779 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:22.790 -04:00 [INF] Executing action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:53:22.790 -04:00 [INF] Executed action method CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0112ms.
2023-10-04 14:53:22.791 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:53:22.792 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:53:22.793 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:53:22.794 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:53:22.794 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:53:22.795 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-04 14:53:22.796 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API) in 22.4619ms
2023-10-04 14:53:22.797 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-04 14:53:22.798 -04:00 [DBG] Connection id "0HMU51ADJCFQE" completed keep alive response.
2023-10-04 14:53:22.799 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/2/pointsofinterest - - - 200 218 application/json;+charset=utf-8 33.6283ms
2023-10-04 14:53:39.882 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - -
2023-10-04 14:53:39.888 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:53:39.926 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/{pointofinterestid}'
2023-10-04 14:53:39.928 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:53:39.928 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:53:39.929 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:53:39.929 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2023-10-04 14:53:39.931 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:53:39.932 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:53:39.933 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:53:39.934 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:53:39.934 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:53:39.935 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:39.936 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2023-10-04 14:53:39.937 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:39.938 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-04 14:53:39.939 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:39.940 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:39.941 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-04 14:53:39.942 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-04 14:53:39.942 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:53:39.943 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-04 14:53:39.944 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:53:39.945 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-04 14:53:39.946 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-04 14:53:39.946 -04:00 [DBG] The request has model state errors, returning an error response.
2023-10-04 14:53:39.947 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-10-04 14:53:39.948 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:53:39.950 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-10-04 14:53:39.951 -04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-04 14:53:39.952 -04:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2023-10-04 14:53:39.954 -04:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 18.3627ms
2023-10-04 14:53:39.955 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-04 14:53:39.955 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/api/cities/1/pointsofinterest/{pointofinterestid} - - - 406 0 - 73.1771ms
2023-10-04 14:54:30.335 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 14:54:30.411 -04:00 [DBG] Hosting starting
2023-10-04 14:54:30.545 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 14:54:30.586 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 14:54:30.587 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 14:54:30.587 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 14:54:30.588 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 14:54:30.588 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 14:54:30.589 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 14:54:30.590 -04:00 [INF] Hosting environment: Development
2023-10-04 14:54:30.599 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 14:54:30.599 -04:00 [DBG] Hosting started
2023-10-04 14:54:31.559 -04:00 [DBG] Connection id "0HMU51DC0PB5U" received FIN.
2023-10-04 14:54:31.567 -04:00 [DBG] Connection id "0HMU51DC0PB5U" accepted.
2023-10-04 14:54:31.568 -04:00 [DBG] Connection id "0HMU51DC0PB5U" started.
2023-10-04 14:54:31.584 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:54:31.621 -04:00 [DBG] Connection id "0HMU51DC0PB5U" stopped.
2023-10-04 14:54:31.626 -04:00 [DBG] Connection id "0HMU51DC0PB5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:54:31.821 -04:00 [DBG] Connection id "0HMU51DC0PB5V" accepted.
2023-10-04 14:54:31.823 -04:00 [DBG] Connection id "0HMU51DC0PB5V" started.
2023-10-04 14:54:31.883 -04:00 [DBG] Connection 0HMU51DC0PB5V established using the following protocol: "Tls12"
2023-10-04 14:54:31.920 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 14:54:31.948 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 14:54:31.968 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 14:54:31.969 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:54:32.157 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 14:54:32.257 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 14:54:32.261 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 344.2873ms
2023-10-04 14:54:32.284 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 14:54:32.290 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.9556ms
2023-10-04 14:54:32.303 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 14:54:32.334 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.4862ms
2023-10-04 14:54:32.497 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 14:54:32.498 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 14:54:32.498 -04:00 [DBG] Request did not match any endpoints
2023-10-04 14:54:32.628 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.8794ms
2023-10-04 14:54:33.955 -04:00 [DBG] Connection id "0HMU51DC0PB60" accepted.
2023-10-04 14:54:33.955 -04:00 [DBG] Connection id "0HMU51DC0PB60" received FIN.
2023-10-04 14:54:33.956 -04:00 [DBG] Connection id "0HMU51DC0PB60" started.
2023-10-04 14:54:33.956 -04:00 [DBG] Connection id "0HMU51DC0PB61" accepted.
2023-10-04 14:54:33.958 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 14:54:33.958 -04:00 [DBG] Connection id "0HMU51DC0PB61" started.
2023-10-04 14:54:33.960 -04:00 [DBG] Connection id "0HMU51DC0PB60" stopped.
2023-10-04 14:54:33.961 -04:00 [DBG] Connection id "0HMU51DC0PB60" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 14:54:33.963 -04:00 [DBG] Connection 0HMU51DC0PB61 established using the following protocol: "Tls12"
2023-10-04 14:54:33.970 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities - -
2023-10-04 14:54:33.976 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-04 14:54:33.980 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-04 14:54:33.981 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:54:33.983 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 14:54:33.984 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:54:34.005 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 14:54:34.007 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 14:54:34.007 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 14:54:34.009 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 14:54:34.009 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 14:54:34.010 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 14:54:34.011 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:54:34.111 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 14:54:34.224 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 14:54:34.285 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-10-04 14:54:34.865 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 14:54:34.900 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-04 14:54:35.113 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-04 14:54:35.146 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 14:54:35.188 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2023-10-04 14:54:35.196 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:54:35.209 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:54:35.217 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-04 14:54:35.233 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-04 14:54:35.250 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:54:35.266 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:54:35.267 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 14:54:35.273 -04:00 [DBG] A data reader was disposed.
2023-10-04 14:54:35.278 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 14:54:35.282 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 14:54:35.307 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1017.986ms.
2023-10-04 14:54:35.310 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 14:54:35.313 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 14:54:35.314 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 14:54:35.314 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 14:54:35.315 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 14:54:35.316 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-04 14:54:35.411 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1396.4467ms
2023-10-04 14:54:35.412 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-04 14:54:35.413 -04:00 [DBG] Connection id "0HMU51DC0PB61" completed keep alive response.
2023-10-04 14:54:35.416 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 14:54:35.418 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities - - - 200 239 application/json;+charset=utf-8 1448.3785ms
2023-10-04 15:06:48.053 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-04 15:06:48.122 -04:00 [DBG] Hosting starting
2023-10-04 15:06:48.210 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E1573A87D714DCE27FF11D6D436AC64060D6C7)
2023-10-04 15:06:48.243 -04:00 [INF] Now listening on: https://localhost:7240
2023-10-04 15:06:48.289 -04:00 [INF] Now listening on: http://localhost:5093
2023-10-04 15:06:48.290 -04:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-04 15:06:48.290 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-04 15:06:48.291 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-04 15:06:48.291 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 15:06:48.292 -04:00 [INF] Hosting environment: Development
2023-10-04 15:06:48.293 -04:00 [INF] Content root path: C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\
2023-10-04 15:06:48.294 -04:00 [DBG] Hosting started
2023-10-04 15:06:48.642 -04:00 [DBG] Connection id "0HMU51K7M59QM" received FIN.
2023-10-04 15:06:48.650 -04:00 [DBG] Connection id "0HMU51K7M59QM" accepted.
2023-10-04 15:06:48.651 -04:00 [DBG] Connection id "0HMU51K7M59QM" started.
2023-10-04 15:06:48.666 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 15:06:48.688 -04:00 [DBG] Connection id "0HMU51K7M59QM" stopped.
2023-10-04 15:06:48.691 -04:00 [DBG] Connection id "0HMU51K7M59QM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 15:06:48.900 -04:00 [DBG] Connection id "0HMU51K7M59QN" accepted.
2023-10-04 15:06:48.902 -04:00 [DBG] Connection id "0HMU51K7M59QN" started.
2023-10-04 15:06:48.950 -04:00 [DBG] Connection 0HMU51K7M59QN established using the following protocol: "Tls12"
2023-10-04 15:06:48.994 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/index.html - -
2023-10-04 15:06:49.032 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-04 15:06:49.057 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-04 15:06:49.058 -04:00 [DBG] Request did not match any endpoints
2023-10-04 15:06:49.278 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-04 15:06:49.392 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-04 15:06:49.395 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/index.html - - - 200 - text/html;charset=utf-8 405.7114ms
2023-10-04 15:06:49.416 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 15:06:49.423 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.1806ms
2023-10-04 15:06:49.432 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/_vs/browserLink - -
2023-10-04 15:06:49.451 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.6793ms
2023-10-04 15:06:49.610 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - -
2023-10-04 15:06:49.611 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-04 15:06:49.611 -04:00 [DBG] Request did not match any endpoints
2023-10-04 15:06:49.743 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.0607ms
2023-10-04 15:06:55.837 -04:00 [DBG] Connection id "0HMU51K7M59QO" accepted.
2023-10-04 15:06:55.837 -04:00 [DBG] Connection id "0HMU51K7M59QO" received FIN.
2023-10-04 15:06:55.838 -04:00 [DBG] Connection id "0HMU51K7M59QO" started.
2023-10-04 15:06:55.838 -04:00 [DBG] Connection id "0HMU51K7M59QP" accepted.
2023-10-04 15:06:55.840 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-04 15:06:55.840 -04:00 [DBG] Connection id "0HMU51K7M59QP" started.
2023-10-04 15:06:55.842 -04:00 [DBG] Connection id "0HMU51K7M59QO" stopped.
2023-10-04 15:06:55.844 -04:00 [DBG] Connection id "0HMU51K7M59QO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-04 15:06:55.846 -04:00 [DBG] Connection 0HMU51K7M59QP established using the following protocol: "Tls12"
2023-10-04 15:06:55.854 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1 - -
2023-10-04 15:06:55.859 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 15:06:55.864 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 15:06:55.866 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:55.867 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 15:06:55.869 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:55.897 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 15:06:55.899 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 15:06:55.900 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 15:06:55.901 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 15:06:55.902 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 15:06:55.903 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 15:06:55.904 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 15:06:56.005 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-04 15:06:56.138 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 15:06:56.142 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 15:06:56.143 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 15:06:56.144 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:56.145 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:56.146 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 15:06:56.147 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:56.149 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 15:06:56.150 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-04 15:06:56.151 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:56.152 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:56.153 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:56.153 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 15:06:56.154 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:56.211 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 15:06:56.779 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 15:06:56.836 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 15:06:57.054 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 15:06:57.106 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 15:06:57.152 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2023-10-04 15:06:57.164 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 15:06:57.176 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 15:06:57.188 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 15:06:57.208 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-04 15:06:57.224 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 15:06:57.244 -04:00 [DBG] A data reader was disposed.
2023-10-04 15:06:57.250 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 15:06:57.254 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 15:06:57.264 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1049.3003ms.
2023-10-04 15:06:57.267 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 15:06:57.270 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 15:06:57.271 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 15:06:57.271 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 15:06:57.272 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 15:06:57.273 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-04 15:06:57.364 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1456.1997ms
2023-10-04 15:06:57.365 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:57.365 -04:00 [DBG] Connection id "0HMU51K7M59QP" completed keep alive response.
2023-10-04 15:06:57.369 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 15:06:57.371 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1517.4928ms
2023-10-04 15:06:59.353 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - -
2023-10-04 15:06:59.354 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-04 15:06:59.354 -04:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-04 15:06:59.355 -04:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:59.356 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-04 15:06:59.356 -04:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:59.357 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-04 15:06:59.358 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-04 15:06:59.360 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-04 15:06:59.361 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-04 15:06:59.363 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-04 15:06:59.363 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-04 15:06:59.365 -04:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 15:06:59.371 -04:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-04 15:06:59.375 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-04 15:06:59.375 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-04 15:06:59.376 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:59.377 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:59.378 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-04 15:06:59.379 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-04 15:06:59.379 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 15:06:59.380 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-04 15:06:59.382 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:59.383 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:59.384 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-04 15:06:59.384 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-04 15:06:59.399 -04:00 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-10-04 15:06:59.402 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-04 15:06:59.406 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-04 15:06:59.421 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-10-04 15:06:59.495 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-04 15:06:59.498 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-04 15:06:59.499 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-04 15:06:59.499 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-04 15:06:59.500 -04:00 [DBG] Opened connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 15:06:59.501 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 15:06:59.503 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-04 15:06:59.505 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 15:06:59.512 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 15:06:59.523 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-04 15:06:59.524 -04:00 [DBG] A data reader was disposed.
2023-10-04 15:06:59.524 -04:00 [DBG] Closing connection to database 'main' on server 'C:\Users\MCCM\source\repos\ASP-FEdemo\CityInfo.API\CityInfo.db'.
2023-10-04 15:06:59.525 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-04 15:06:59.529 -04:00 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 129.093ms.
2023-10-04 15:06:59.530 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-04 15:06:59.532 -04:00 [DBG] No information found on request to perform content negotiation.
2023-10-04 15:06:59.532 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-04 15:06:59.533 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-04 15:06:59.533 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-04 15:06:59.534 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-10-04 15:06:59.543 -04:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 178.4786ms
2023-10-04 15:06:59.544 -04:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-04 15:06:59.544 -04:00 [DBG] Connection id "0HMU51K7M59QP" completed keep alive response.
2023-10-04 15:06:59.545 -04:00 [DBG] 'CityInfoContext' disposed.
2023-10-04 15:06:59.546 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7240/api/cities/1?includePointsOfInterest=true - - - 200 322 application/json;+charset=utf-8 192.9016ms
